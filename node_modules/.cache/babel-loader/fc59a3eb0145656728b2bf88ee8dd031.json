{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/components/UI/AddMainCategoryModal/AddMainCategoryModal.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer, useContext } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport Button from \"../Button/Button\";\nimport InputText from \"../InputText/InputText\";\nimport InputRadio from \"../InputRadio/InputRadio\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport Warning from \"../Warning/Warning\";\nimport style from \"./AddMainCategoryModal.module.css\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\":\n      {\n        const isDuplicate = state.categoryNameArr.includes(action.value);\n        return { ...state,\n          name: action.value,\n          isValid: action.value.trim().length > 0 && state.iconIndex && !isDuplicate,\n          isDuplicate\n        };\n      }\n\n    case \"ICON\":\n      {\n        return { ...state,\n          iconIndex: action.value,\n          isValid: state.name.trim().length > 0 && action.value && !state.isDuplicate\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction AddMainCategoryModal(props) {\n  _s();\n\n  const {\n    addMainCategory,\n    iconArr,\n    categoryExpense,\n    categoryIncome\n  } = useContext(CategoryContext);\n  const categoryNameArr = props.type === \"expense\" ? Object.keys(categoryExpense) : Object.keys(categoryIncome);\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    iconIndex: false,\n    isValid: false,\n    isDuplicate: false,\n    categoryNameArr\n  });\n\n  function inputTextChangeHandler(e) {\n    formDispatch({\n      type: \"NAME\",\n      value: e.target.value\n    });\n  }\n\n  function radioIconChangeHandler(e) {\n    formDispatch({\n      type: \"ICON\",\n      value: e.target.value\n    });\n  } // Reference 1\n\n\n  function formSubmitHandler(e) {\n    e.preventDefault();\n    props.addMainCategoryModalToggler(null, form.name);\n    addMainCategory(form.name, form.iconIndex, props.type);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    classModal: style.modal,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      className: style.title,\n      children: \"add main category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formSubmitHandler,\n      className: style.form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"big__container\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"input__container\"],\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            name: \"maincategory name\",\n            id: \"name\",\n            label: \"maincategory name\",\n            value: form.name,\n            classLabel: style.label,\n            classInput: form.isDuplicate ? `${style.input} ${style[\"input--invalid\"]}` : `${style.input}`,\n            onChange: inputTextChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Warning, {\n          className: style.warning,\n          index: form.isDuplicate,\n          children: \"duplicate category name is not allowed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${style[\"input__container\"]} ${style[\"input__container--icon\"]}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${style.label} ${style[\"label--icon\"]}`,\n          children: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"icon__container\"],\n          children: iconArr.map((element, index) => /*#__PURE__*/_jsxDEV(InputRadio, {\n            name: \"icon\",\n            label: element,\n            value: index,\n            classLabel: style.icon,\n            classContainer: style[\"radio__container\"],\n            classInput: style[\"input--icon\"],\n            onChange: radioIconChangeHandler,\n            checked: index + \"\" === form.iconIndex\n          }, uuidv4(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"btn__container\"],\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: props.addMainCategoryModalToggler,\n          className: `${style.btn} ${style[\"btn--isValid\"]}`,\n          type: \"button\",\n          children: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !form.isValid,\n          className: `${style.btn} ${form.isValid ? `${style[\"btn--isValid\"]}` : \"\"}`,\n          type: \"submit\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddMainCategoryModal, \"17EgtOb4Z1weOXju1UzEgz2GduQ=\");\n\n_c = AddMainCategoryModal;\nexport default AddMainCategoryModal;\n/*\nReference 1\n\nNote that we need to do two things when form is submitted\n1) close the adding modal and add the category to the SettingCategory\n       (for the sake of immediate showing at that state)\n       (this is accomplished by props.addMainCategoryModalToggler)\n    \n2) truly add the category inside the category provider\n       (this is accomplished by addMainCategory)\n\nAgain, it seems we're doing duplicate work\nBut it's not\nFirst function is to make the UI immediately adding the new adding category\nSecond function is truly add the category where we storing all the category\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMainCategoryModal\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/components/UI/AddMainCategoryModal/AddMainCategoryModal.js"],"names":["useReducer","useContext","Modal","Title","Button","InputText","InputRadio","HorizontalLine","CategoryContext","Warning","style","v4","uuidv4","reducer","state","action","type","isDuplicate","categoryNameArr","includes","value","name","isValid","trim","length","iconIndex","AddMainCategoryModal","props","addMainCategory","iconArr","categoryExpense","categoryIncome","Object","keys","form","formDispatch","inputTextChangeHandler","e","target","radioIconChangeHandler","formSubmitHandler","preventDefault","addMainCategoryModalToggler","modal","title","label","input","warning","map","element","index","icon","btn"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,UAArB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,mCAAlB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,MAAL;AAAa;AACX,cAAMC,WAAW,GAAGH,KAAK,CAACI,eAAN,CAAsBC,QAAtB,CAA+BJ,MAAM,CAACK,KAAtC,CAApB;AAEA,eAAO,EACL,GAAGN,KADE;AAELO,UAAAA,IAAI,EAAEN,MAAM,CAACK,KAFR;AAGLE,UAAAA,OAAO,EACLP,MAAM,CAACK,KAAP,CAAaG,IAAb,GAAoBC,MAApB,GAA6B,CAA7B,IAAkCV,KAAK,CAACW,SAAxC,IAAqD,CAACR,WAJnD;AAKLA,UAAAA;AALK,SAAP;AAOD;;AAED,SAAK,MAAL;AAAa;AACX,eAAO,EACL,GAAGH,KADE;AAELW,UAAAA,SAAS,EAAEV,MAAM,CAACK,KAFb;AAGLE,UAAAA,OAAO,EACLR,KAAK,CAACO,IAAN,CAAWE,IAAX,GAAkBC,MAAlB,GAA2B,CAA3B,IAAgCT,MAAM,CAACK,KAAvC,IAAgD,CAACN,KAAK,CAACG;AAJpD,SAAP;AAMD;;AAED;AAAS;AACP,eAAOH,KAAP;AACD;AAxBH;AA0BD;;AAED,SAASY,oBAAT,CAA8BC,KAA9B,EAAqC;AAAA;;AACnC,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,OAAnB;AAA4BC,IAAAA,eAA5B;AAA6CC,IAAAA;AAA7C,MACJ9B,UAAU,CAACO,eAAD,CADZ;AAGA,QAAMU,eAAe,GACnBS,KAAK,CAACX,IAAN,KAAe,SAAf,GACIgB,MAAM,CAACC,IAAP,CAAYH,eAAZ,CADJ,GAEIE,MAAM,CAACC,IAAP,CAAYF,cAAZ,CAHN;AAKA,QAAM,CAACG,IAAD,EAAOC,YAAP,IAAuBnC,UAAU,CAACa,OAAD,EAAU;AAC/CQ,IAAAA,IAAI,EAAE,EADyC;AAE/CI,IAAAA,SAAS,EAAE,KAFoC;AAG/CH,IAAAA,OAAO,EAAE,KAHsC;AAI/CL,IAAAA,WAAW,EAAE,KAJkC;AAK/CC,IAAAA;AAL+C,GAAV,CAAvC;;AAQA,WAASkB,sBAAT,CAAgCC,CAAhC,EAAmC;AACjCF,IAAAA,YAAY,CAAC;AAAEnB,MAAAA,IAAI,EAAE,MAAR;AAAgBI,MAAAA,KAAK,EAAEiB,CAAC,CAACC,MAAF,CAASlB;AAAhC,KAAD,CAAZ;AACD;;AAED,WAASmB,sBAAT,CAAgCF,CAAhC,EAAmC;AACjCF,IAAAA,YAAY,CAAC;AAAEnB,MAAAA,IAAI,EAAE,MAAR;AAAgBI,MAAAA,KAAK,EAAEiB,CAAC,CAACC,MAAF,CAASlB;AAAhC,KAAD,CAAZ;AACD,GAvBkC,CAyBnC;;;AACA,WAASoB,iBAAT,CAA2BH,CAA3B,EAA8B;AAC5BA,IAAAA,CAAC,CAACI,cAAF;AAEAd,IAAAA,KAAK,CAACe,2BAAN,CAAkC,IAAlC,EAAwCR,IAAI,CAACb,IAA7C;AAEAO,IAAAA,eAAe,CAACM,IAAI,CAACb,IAAN,EAAYa,IAAI,CAACT,SAAjB,EAA4BE,KAAK,CAACX,IAAlC,CAAf;AACD;;AAED,sBACE,QAAC,KAAD;AAAO,IAAA,UAAU,EAAEN,KAAK,CAACiC,KAAzB;AAAA,4BACE,QAAC,KAAD;AAAO,MAAA,SAAS,EAAEjC,KAAK,CAACkC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAM,MAAA,QAAQ,EAAEJ,iBAAhB;AAAmC,MAAA,SAAS,EAAE9B,KAAK,CAACwB,IAApD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAExB,KAAK,CAAC,gBAAD,CAArB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAEA,KAAK,CAAC,kBAAD,CAArB;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,IAAI,EAAC,mBADP;AAEE,YAAA,EAAE,EAAC,MAFL;AAGE,YAAA,KAAK,EAAC,mBAHR;AAIE,YAAA,KAAK,EAAEwB,IAAI,CAACb,IAJd;AAKE,YAAA,UAAU,EAAEX,KAAK,CAACmC,KALpB;AAME,YAAA,UAAU,EACRX,IAAI,CAACjB,WAAL,GACK,GAAEP,KAAK,CAACoC,KAAM,IAAGpC,KAAK,CAAC,gBAAD,CAAmB,EAD9C,GAEK,GAAEA,KAAK,CAACoC,KAAM,EATvB;AAWE,YAAA,QAAQ,EAAEV;AAXZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAgBE,QAAC,OAAD;AAAS,UAAA,SAAS,EAAE1B,KAAK,CAACqC,OAA1B;AAAmC,UAAA,KAAK,EAAEb,IAAI,CAACjB,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAqBE;AACE,QAAA,SAAS,EAAG,GAAEP,KAAK,CAAC,kBAAD,CAAqB,IAAGA,KAAK,CAAC,wBAAD,CAA2B,EAD7E;AAAA,gCAGE;AAAG,UAAA,SAAS,EAAG,GAAEA,KAAK,CAACmC,KAAM,IAAGnC,KAAK,CAAC,aAAD,CAAgB,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAK,UAAA,SAAS,EAAEA,KAAK,CAAC,iBAAD,CAArB;AAAA,oBACGmB,OAAO,CAACmB,GAAR,CAAY,CAACC,OAAD,EAAUC,KAAV,kBACX,QAAC,UAAD;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,KAAK,EAAED,OAHT;AAIE,YAAA,KAAK,EAAEC,KAJT;AAKE,YAAA,UAAU,EAAExC,KAAK,CAACyC,IALpB;AAME,YAAA,cAAc,EAAEzC,KAAK,CAAC,kBAAD,CANvB;AAOE,YAAA,UAAU,EAAEA,KAAK,CAAC,aAAD,CAPnB;AAQE,YAAA,QAAQ,EAAE6B,sBARZ;AASE,YAAA,OAAO,EAAEW,KAAK,GAAG,EAAR,KAAehB,IAAI,CAACT;AAT/B,aACOb,MAAM,EADb;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cArBF,eAyCE;AAAK,QAAA,SAAS,EAAEF,KAAK,CAAC,gBAAD,CAArB;AAAA,gCACE,QAAC,MAAD;AACE,UAAA,OAAO,EAAEiB,KAAK,CAACe,2BADjB;AAEE,UAAA,SAAS,EAAG,GAAEhC,KAAK,CAAC0C,GAAI,IAAG1C,KAAK,CAAC,cAAD,CAAiB,EAFnD;AAGE,UAAA,IAAI,EAAC,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE,QAAC,MAAD;AACE,UAAA,QAAQ,EAAE,CAACwB,IAAI,CAACZ,OADlB;AAEE,UAAA,SAAS,EAAG,GAAEZ,KAAK,CAAC0C,GAAI,IACtBlB,IAAI,CAACZ,OAAL,GAAgB,GAAEZ,KAAK,CAAC,cAAD,CAAiB,EAAxC,GAA4C,EAC7C,EAJH;AAKE,UAAA,IAAI,EAAC,QALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cAzCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkED;;GApGQgB,oB;;KAAAA,oB;AAsGT,eAAeA,oBAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { useReducer, useContext } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport Button from \"../Button/Button\";\nimport InputText from \"../InputText/InputText\";\nimport InputRadio from \"../InputRadio/InputRadio\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport Warning from \"../Warning/Warning\";\nimport style from \"./AddMainCategoryModal.module.css\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\": {\n      const isDuplicate = state.categoryNameArr.includes(action.value);\n\n      return {\n        ...state,\n        name: action.value,\n        isValid:\n          action.value.trim().length > 0 && state.iconIndex && !isDuplicate,\n        isDuplicate,\n      };\n    }\n\n    case \"ICON\": {\n      return {\n        ...state,\n        iconIndex: action.value,\n        isValid:\n          state.name.trim().length > 0 && action.value && !state.isDuplicate,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction AddMainCategoryModal(props) {\n  const { addMainCategory, iconArr, categoryExpense, categoryIncome } =\n    useContext(CategoryContext);\n\n  const categoryNameArr =\n    props.type === \"expense\"\n      ? Object.keys(categoryExpense)\n      : Object.keys(categoryIncome);\n\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    iconIndex: false,\n    isValid: false,\n    isDuplicate: false,\n    categoryNameArr,\n  });\n\n  function inputTextChangeHandler(e) {\n    formDispatch({ type: \"NAME\", value: e.target.value });\n  }\n\n  function radioIconChangeHandler(e) {\n    formDispatch({ type: \"ICON\", value: e.target.value });\n  }\n\n  // Reference 1\n  function formSubmitHandler(e) {\n    e.preventDefault();\n\n    props.addMainCategoryModalToggler(null, form.name);\n\n    addMainCategory(form.name, form.iconIndex, props.type);\n  }\n\n  return (\n    <Modal classModal={style.modal}>\n      <Title className={style.title}>add main category</Title>\n      <HorizontalLine />\n      <form onSubmit={formSubmitHandler} className={style.form}>\n        <div className={style[\"big__container\"]}>\n          <div className={style[\"input__container\"]}>\n            <InputText\n              name=\"maincategory name\"\n              id=\"name\"\n              label=\"maincategory name\"\n              value={form.name}\n              classLabel={style.label}\n              classInput={\n                form.isDuplicate\n                  ? `${style.input} ${style[\"input--invalid\"]}`\n                  : `${style.input}`\n              }\n              onChange={inputTextChangeHandler}\n            />\n          </div>\n          <Warning className={style.warning} index={form.isDuplicate}>\n            duplicate category name is not allowed\n          </Warning>\n        </div>\n        <div\n          className={`${style[\"input__container\"]} ${style[\"input__container--icon\"]}`}\n        >\n          <p className={`${style.label} ${style[\"label--icon\"]}`}>icon</p>\n          <div className={style[\"icon__container\"]}>\n            {iconArr.map((element, index) => (\n              <InputRadio\n                key={uuidv4()}\n                name=\"icon\"\n                label={element}\n                value={index}\n                classLabel={style.icon}\n                classContainer={style[\"radio__container\"]}\n                classInput={style[\"input--icon\"]}\n                onChange={radioIconChangeHandler}\n                checked={index + \"\" === form.iconIndex}\n              />\n            ))}\n          </div>\n        </div>\n        <div className={style[\"btn__container\"]}>\n          <Button\n            onClick={props.addMainCategoryModalToggler}\n            className={`${style.btn} ${style[\"btn--isValid\"]}`}\n            type=\"button\"\n          >\n            cancel\n          </Button>\n          <Button\n            disabled={!form.isValid}\n            className={`${style.btn} ${\n              form.isValid ? `${style[\"btn--isValid\"]}` : \"\"\n            }`}\n            type=\"submit\"\n          >\n            add\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n\nexport default AddMainCategoryModal;\n\n/*\nReference 1\n\nNote that we need to do two things when form is submitted\n1) close the adding modal and add the category to the SettingCategory\n       (for the sake of immediate showing at that state)\n       (this is accomplished by props.addMainCategoryModalToggler)\n    \n2) truly add the category inside the category provider\n       (this is accomplished by addMainCategory)\n\nAgain, it seems we're doing duplicate work\nBut it's not\nFirst function is to make the UI immediately adding the new adding category\nSecond function is truly add the category where we storing all the category\n*/\n"]},"metadata":{},"sourceType":"module"}