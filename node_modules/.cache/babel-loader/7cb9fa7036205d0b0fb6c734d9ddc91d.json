{"ast":null,"code":"import compareTimeWithRange from \"../compareTimeWithRange\";\n\nfunction createPieDataArr(startingDate, endingDate, expenseData, mainCategory, subCategory) {\n  const startingDateObj = new Date(startingDate);\n  const endingDateObj = new Date(endingDate);\n  const filteredData = expenseData.filter(element => compareTimeWithRange(element, startingDateObj, endingDateObj) && element.category === mainCategory); // keep tracking how many labels in the filteredData\n\n  const labelsSet = new Set();\n\n  for (let data of filteredData) {\n    // no reason to keep searching once finding all the possible sub category\n    if (labelsSet.size === subCategory.length) break;\n    labelsSet.add(data.mainCate);\n  }\n\n  const labels = Array.from(labelsSet);\n  const newFilteredData = {};\n  labels.forEach(label => {\n    newFilteredData[label] = [];\n  });\n  filteredData.forEach(data => {\n    if (newFilteredData[data.mainCate]) newFilteredData[data.mainCate].push(data);else newFilteredData[data.mainCate] = [data];\n  });\n  const dataArr = [];\n\n  for (const value of Object.values(newFilteredData)) {\n    if (value.length > 0) dataArr.push(value.reduce((acc, cur) => acc += Number(cur.price), 0));else dataArr.push(0);\n  } //////////////////////////////////////////////////////////////////\n\n\n  const tmpTest = {};\n\n  for (let data of filteredData) {\n    if (tmpTest[data.mainCate] !== undefined) tmpTest[data.mainCate] += Number(data.price);else tmpTest[data.mainCate] = Number(data.price);\n  }\n\n  const newData = Object.values(tmpTest);\n  const newLabels = Object.keys(tmpTest);\n  console.log(dataArr);\n  console.log(newData);\n  console.log(labels);\n  console.log(newLabels);\n  return [labels, dataArr];\n}\n\nexport default createPieDataArr;","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/Others/CreateChartData/createPieDataArr.js"],"names":["compareTimeWithRange","createPieDataArr","startingDate","endingDate","expenseData","mainCategory","subCategory","startingDateObj","Date","endingDateObj","filteredData","filter","element","category","labelsSet","Set","data","size","length","add","mainCate","labels","Array","from","newFilteredData","forEach","label","push","dataArr","value","Object","values","reduce","acc","cur","Number","price","tmpTest","undefined","newData","newLabels","keys","console","log"],"mappings":"AAAA,OAAOA,oBAAP,MAAiC,yBAAjC;;AAEA,SAASC,gBAAT,CACEC,YADF,EAEEC,UAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,WALF,EAME;AACA,QAAMC,eAAe,GAAG,IAAIC,IAAJ,CAASN,YAAT,CAAxB;AACA,QAAMO,aAAa,GAAG,IAAID,IAAJ,CAASL,UAAT,CAAtB;AACA,QAAMO,YAAY,GAAGN,WAAW,CAACO,MAAZ,CAClBC,OAAD,IACEZ,oBAAoB,CAACY,OAAD,EAAUL,eAAV,EAA2BE,aAA3B,CAApB,IACAG,OAAO,CAACC,QAAR,KAAqBR,YAHJ,CAArB,CAHA,CASA;;AACA,QAAMS,SAAS,GAAG,IAAIC,GAAJ,EAAlB;;AACA,OAAK,IAAIC,IAAT,IAAiBN,YAAjB,EAA+B;AAC7B;AACA,QAAII,SAAS,CAACG,IAAV,KAAmBX,WAAW,CAACY,MAAnC,EAA2C;AAC3CJ,IAAAA,SAAS,CAACK,GAAV,CAAcH,IAAI,CAACI,QAAnB;AACD;;AACD,QAAMC,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAWT,SAAX,CAAf;AAEA,QAAMU,eAAe,GAAG,EAAxB;AACAH,EAAAA,MAAM,CAACI,OAAP,CAAgBC,KAAD,IAAW;AACxBF,IAAAA,eAAe,CAACE,KAAD,CAAf,GAAyB,EAAzB;AACD,GAFD;AAIAhB,EAAAA,YAAY,CAACe,OAAb,CAAsBT,IAAD,IAAU;AAC7B,QAAIQ,eAAe,CAACR,IAAI,CAACI,QAAN,CAAnB,EACEI,eAAe,CAACR,IAAI,CAACI,QAAN,CAAf,CAA+BO,IAA/B,CAAoCX,IAApC,EADF,KAEKQ,eAAe,CAACR,IAAI,CAACI,QAAN,CAAf,GAAiC,CAACJ,IAAD,CAAjC;AACN,GAJD;AAMA,QAAMY,OAAO,GAAG,EAAhB;;AAEA,OAAK,MAAMC,KAAX,IAAoBC,MAAM,CAACC,MAAP,CAAcP,eAAd,CAApB,EAAoD;AAClD,QAAIK,KAAK,CAACX,MAAN,GAAe,CAAnB,EACEU,OAAO,CAACD,IAAR,CAAaE,KAAK,CAACG,MAAN,CAAa,CAACC,GAAD,EAAMC,GAAN,KAAeD,GAAG,IAAIE,MAAM,CAACD,GAAG,CAACE,KAAL,CAAzC,EAAuD,CAAvD,CAAb,EADF,KAEKR,OAAO,CAACD,IAAR,CAAa,CAAb;AACN,GAnCD,CAqCA;;;AACA,QAAMU,OAAO,GAAG,EAAhB;;AACA,OAAK,IAAIrB,IAAT,IAAiBN,YAAjB,EAA+B;AAC7B,QAAI2B,OAAO,CAACrB,IAAI,CAACI,QAAN,CAAP,KAA2BkB,SAA/B,EACED,OAAO,CAACrB,IAAI,CAACI,QAAN,CAAP,IAA0Be,MAAM,CAACnB,IAAI,CAACoB,KAAN,CAAhC,CADF,KAEKC,OAAO,CAACrB,IAAI,CAACI,QAAN,CAAP,GAAyBe,MAAM,CAACnB,IAAI,CAACoB,KAAN,CAA/B;AACN;;AAED,QAAMG,OAAO,GAAGT,MAAM,CAACC,MAAP,CAAcM,OAAd,CAAhB;AACA,QAAMG,SAAS,GAAGV,MAAM,CAACW,IAAP,CAAYJ,OAAZ,CAAlB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYf,OAAZ;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYtB,MAAZ;AACAqB,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AAEA,SAAO,CAACnB,MAAD,EAASO,OAAT,CAAP;AACD;;AAED,eAAe3B,gBAAf","sourcesContent":["import compareTimeWithRange from \"../compareTimeWithRange\";\n\nfunction createPieDataArr(\n  startingDate,\n  endingDate,\n  expenseData,\n  mainCategory,\n  subCategory\n) {\n  const startingDateObj = new Date(startingDate);\n  const endingDateObj = new Date(endingDate);\n  const filteredData = expenseData.filter(\n    (element) =>\n      compareTimeWithRange(element, startingDateObj, endingDateObj) &&\n      element.category === mainCategory\n  );\n\n  // keep tracking how many labels in the filteredData\n  const labelsSet = new Set();\n  for (let data of filteredData) {\n    // no reason to keep searching once finding all the possible sub category\n    if (labelsSet.size === subCategory.length) break;\n    labelsSet.add(data.mainCate);\n  }\n  const labels = Array.from(labelsSet);\n\n  const newFilteredData = {};\n  labels.forEach((label) => {\n    newFilteredData[label] = [];\n  });\n\n  filteredData.forEach((data) => {\n    if (newFilteredData[data.mainCate])\n      newFilteredData[data.mainCate].push(data);\n    else newFilteredData[data.mainCate] = [data];\n  });\n\n  const dataArr = [];\n\n  for (const value of Object.values(newFilteredData)) {\n    if (value.length > 0)\n      dataArr.push(value.reduce((acc, cur) => (acc += Number(cur.price)), 0));\n    else dataArr.push(0);\n  }\n\n  //////////////////////////////////////////////////////////////////\n  const tmpTest = {};\n  for (let data of filteredData) {\n    if (tmpTest[data.mainCate] !== undefined)\n      tmpTest[data.mainCate] += Number(data.price);\n    else tmpTest[data.mainCate] = Number(data.price);\n  }\n\n  const newData = Object.values(tmpTest);\n  const newLabels = Object.keys(tmpTest);\n  console.log(dataArr);\n  console.log(newData);\n  console.log(labels);\n  console.log(newLabels);\n\n  return [labels, dataArr];\n}\n\nexport default createPieDataArr;\n"]},"metadata":{},"sourceType":"module"}