{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/components/UI/AddingSubCategoryModal/AddingSubCategoryModal.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useReducer } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport SubTitle from \"../SubTitle/SubTitle\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport InputText from \"../InputText/InputText\";\nimport Button from \"../Button/Button\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport style from \"./AddingSubCategoryModal.module.css\";\nimport Warning from \"../Warning/Warning\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\":\n      {\n        const isDuplicate = state.categoryNameArr.includes(action.value);\n        const isValid = action.value.trim().length > 0 && !isDuplicate;\n        console.log(isValid);\n        return { ...state,\n          name: action.value,\n          isValid,\n          isDuplicate\n        };\n      }\n\n    case \"TOUCH\":\n      {\n        return { ...state,\n          isTouch: true\n        };\n      }\n\n    default:\n      break;\n  }\n}\n\nfunction AddingSubCategoryModal(props) {\n  _s();\n\n  const {\n    categoryExpense,\n    categoryIncome,\n    addSubCategory\n  } = useContext(CategoryContext);\n  const categoryNameArr = props.type === \"expense\" ? categoryExpense[props.mainCategory] : categoryIncome[props.mainCategory];\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    isDuplicate: false,\n    isTouch: false,\n    isValid: false,\n    categoryNameArr\n  });\n\n  function inputTextChangeHandler(e) {\n    formDispatch({\n      type: \"NAME\",\n      value: e.target.value\n    });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault(); // the logic here is exactly as same as adding main category\n\n    addSubCategory(form.name, props.type, props.mainCategory);\n    props.addSubCategoryModalToggler(null, form.name);\n  } // Reference 1\n\n\n  const warnningIndex = form.isTouch && !form.isValid; // Reference 2\n\n  const warnningText = form.isDuplicate ? \"duplicate category name is not allowed\" : \"empty is not allowed\";\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    classModal: style.modal,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      className: style.title,\n      children: \"add sub category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style[\"subtitle__container\"],\n      children: /*#__PURE__*/_jsxDEV(SubTitle, {\n        className: style.subtitle,\n        children: [\"you're adding sub category of \", props.mainCategory]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"big__container\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"input__container\"],\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            name: \"subcategory name\",\n            label: \"subcategory name\",\n            value: form.name,\n            onChange: inputTextChangeHandler,\n            classLabel: style.label,\n            classInput: warnningIndex ? `${style.input} ${style[\"input--invalid\"]}` : `${style.input}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Warning, {\n          className: style.warning,\n          index: warnningIndex,\n          children: warnningText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"btn__container\"],\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          className: `${style.btn} ${style[\"btn--isValid\"]}`,\n          onClick: props.addSubCategoryModalToggler,\n          children: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !form.isValid,\n          type: \"submit\",\n          className: `${style.btn} uppercase transition--25 ${form.isValid ? `btn--valid` : \"btn--invalid\"}`,\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddingSubCategoryModal, \"2SK4VXv12s3ZXO8sp+uKCMhuRAQ=\");\n\n_c = AddingSubCategoryModal;\nexport default AddingSubCategoryModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddingSubCategoryModal\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/components/UI/AddingSubCategoryModal/AddingSubCategoryModal.js"],"names":["useState","useContext","useReducer","Modal","Title","SubTitle","HorizontalLine","InputText","Button","CategoryContext","style","Warning","reducer","state","action","type","isDuplicate","categoryNameArr","includes","value","isValid","trim","length","console","log","name","isTouch","AddingSubCategoryModal","props","categoryExpense","categoryIncome","addSubCategory","mainCategory","form","formDispatch","inputTextChangeHandler","e","target","submitHandler","preventDefault","addSubCategoryModalToggler","warnningIndex","warnningText","modal","title","subtitle","label","input","warning","btn"],"mappings":"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","sourcesContent":["import { useState, useContext, useReducer } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport SubTitle from \"../SubTitle/SubTitle\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport InputText from \"../InputText/InputText\";\nimport Button from \"../Button/Button\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport style from \"./AddingSubCategoryModal.module.css\";\nimport Warning from \"../Warning/Warning\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\": {\n      const isDuplicate = state.categoryNameArr.includes(action.value);\n      const isValid = action.value.trim().length > 0 && !isDuplicate;\n\n      console.log(isValid);\n\n      return { ...state, name: action.value, isValid, isDuplicate };\n    }\n\n    case \"TOUCH\": {\n      return { ...state, isTouch: true };\n    }\n\n    default:\n      break;\n  }\n}\n\nfunction AddingSubCategoryModal(props) {\n  const { categoryExpense, categoryIncome, addSubCategory } =\n    useContext(CategoryContext);\n\n  const categoryNameArr =\n    props.type === \"expense\"\n      ? categoryExpense[props.mainCategory]\n      : categoryIncome[props.mainCategory];\n\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    isDuplicate: false,\n    isTouch: false,\n    isValid: false,\n    categoryNameArr,\n  });\n\n  function inputTextChangeHandler(e) {\n    formDispatch({ type: \"NAME\", value: e.target.value });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n\n    // the logic here is exactly as same as adding main category\n    addSubCategory(form.name, props.type, props.mainCategory);\n\n    props.addSubCategoryModalToggler(null, form.name);\n  }\n\n  // Reference 1\n  const warnningIndex = form.isTouch && !form.isValid;\n\n  // Reference 2\n  const warnningText = form.isDuplicate\n    ? \"duplicate category name is not allowed\"\n    : \"empty is not allowed\";\n\n  return (\n    <Modal classModal={style.modal}>\n      <Title className={style.title}>add sub category</Title>\n      <HorizontalLine />\n      <div className={style[\"subtitle__container\"]}>\n        <SubTitle className={style.subtitle}>\n          you're adding sub category of {props.mainCategory}\n        </SubTitle>\n      </div>\n      <form onSubmit={submitHandler}>\n        <div className={style[\"big__container\"]}>\n          <div className={style[\"input__container\"]}>\n            <InputText\n              name=\"subcategory name\"\n              label=\"subcategory name\"\n              value={form.name}\n              onChange={inputTextChangeHandler}\n              classLabel={style.label}\n              classInput={\n                warnningIndex\n                  ? `${style.input} ${style[\"input--invalid\"]}`\n                  : `${style.input}`\n              }\n            />\n          </div>\n\n          <Warning className={style.warning} index={warnningIndex}>\n            {warnningText}\n          </Warning>\n        </div>\n\n        <div className={style[\"btn__container\"]}>\n          <Button\n            type=\"button\"\n            className={`${style.btn} ${style[\"btn--isValid\"]}`}\n            onClick={props.addSubCategoryModalToggler}\n          >\n            cancel\n          </Button>\n          <Button\n            disabled={!form.isValid}\n            type=\"submit\"\n            className={`${style.btn} uppercase transition--25 ${\n              form.isValid ? `btn--valid` : \"btn--invalid\"\n            }`}\n          >\n            add\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n\nexport default AddingSubCategoryModal;\n"]},"metadata":{},"sourceType":"module"}