{"ast":null,"code":"import compareTime from \"../compareTime\";\nimport compareTimeWithRange from \"../compareTimeWithRange\";\n\nfunction createDataArr(standardLabels, filteredData, timeDuration, mainCategory, subCategory) {\n  if (timeDuration === \"12\" || timeDuration === \"6\") return createDataArrMonth(standardLabels, filteredData, mainCategory, subCategory);else return createDataArrDay(standardLabels, filteredData, mainCategory, subCategory);\n}\n\nexport default createDataArr;\n/*\nmain logic\n1) loop through each date inside standardLabels\n2) for each loop, use while-loop to keep accumulating the total amount within this date\n3) there are several conditions to make sure catching the correct data\n*/\n\nfunction createDataArrDay(standardLabels, filteredData, mainCategory, subCategory) {\n  const data = [];\n  const checkboxNoChange = mainCategory === \"expense\" && subCategory.length === 7 || mainCategory === \"income\" && subCategory.length === 3;\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let currentDate;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    currentDate = Number(new Date(standardLabels[i]));\n\n    while (indexCurrentDate) {\n      var _filteredData$indexDa;\n\n      /*\n      find the date of data is less or eqaul to current date\n      keep doing the same thing until the date of data is greater than current date\n      which means have to go to next date\n       note that have to add ?.\n      because there's edge case\n      for example, the length of filteredData is 5\n      and at the end of loop, the indexData may be 5\n      it's out of the range of filteredData\n      */\n      if (Number(new Date((_filteredData$indexDa = filteredData[indexData]) === null || _filteredData$indexDa === void 0 ? void 0 : _filteredData$indexDa.time)) <= currentDate) {\n        if (filteredData[indexData].category === mainCategory) {\n          /*\n          1) if checkbox has no change which means the user want to get all category, so can directly add the price\n          2) otherwise, have to make sure the category is correct\n          */\n          if (checkboxNoChange || subCategory.includes(filteredData[indexData].mainCate)) {\n            currentAmount += Number(filteredData[indexData].price);\n          }\n        } // this is the index for expenseData\n\n\n        indexData++;\n      } // if not, we're done for while-loop which means going to next date (standardLabel)\n      else indexCurrentDate = false;\n    } // add the accumlated data, and empty\n\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  const tesdd = test(standardLabels, filteredData, mainCategory, subCategory);\n  console.log(tesdd);\n  console.log(data);\n  return data;\n} // basically the logic is as same as previos one\n\n\nfunction createDataArrMonth(standardLabels, filteredData, mainCategory, subCategory) {\n  const data = [];\n  const checkboxNoChange = mainCategory === \"expense\" && subCategory.length === 6 || mainCategory === \"income\" && subCategory.length === 3;\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let yearLabel, monthLabel, dayLabel, yearDate, monthData, dayData;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    yearLabel = standardLabels[i].slice(0, 4);\n    monthLabel = standardLabels[i].slice(5, 7);\n    dayLabel = standardLabels[i].slice(8);\n\n    while (indexCurrentDate) {\n      var _filteredData$indexDa2, _filteredData$indexDa3, _filteredData$indexDa4;\n\n      yearDate = (_filteredData$indexDa2 = filteredData[indexData]) === null || _filteredData$indexDa2 === void 0 ? void 0 : _filteredData$indexDa2.time.slice(0, 4);\n      monthData = (_filteredData$indexDa3 = filteredData[indexData]) === null || _filteredData$indexDa3 === void 0 ? void 0 : _filteredData$indexDa3.time.slice(5, 7);\n      dayData = (_filteredData$indexDa4 = filteredData[indexData]) === null || _filteredData$indexDa4 === void 0 ? void 0 : _filteredData$indexDa4.time.slice(8);\n      /*\n      have to make sure\n      1) year and month is the same\n      2) day is in the valid range\n      */\n\n      if (yearLabel === yearDate && monthLabel === monthData) {\n        if (Number(dayLabel) <= Number(dayData) && 31 >= Number(dayData)) if (filteredData[indexData].category === mainCategory) {\n          if (checkboxNoChange || subCategory.includes(filteredData[indexData].mainCate)) currentAmount += Number(filteredData[indexData].price);\n        }\n        indexData++;\n      } else indexCurrentDate = false;\n    }\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  const tesdd = test(standardLabels, filteredData, mainCategory, subCategory);\n  console.log(tesdd);\n  console.log(data);\n  return data;\n}\n\nfunction test(standardLabels, filteredData, mainCategory, subCategory, type) {\n  const data = [];\n  const checkboxNoChange = mainCategory === \"expense\" && subCategory.length === 7 || mainCategory === \"income\" && subCategory.length === 3;\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let currentDate;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    if (type === \"month\" && i === standardLabels.length - 1) break;\n    currentDate = new Date(standardLabels[i]);\n\n    while (indexCurrentDate) {\n      let timeValidIndex = filteredData[indexData] && compareTime(filteredData[indexData], currentDate);\n\n      if (type === \"month\") {\n        timeValidIndex = filteredData[indexData] && compareTimeWithRange(filteredData[indexData], currentDate, new Date(standardLabels[i + 1]));\n      }\n\n      if (timeValidIndex) {\n        if (filteredData[indexData].category === mainCategory) {\n          if (checkboxNoChange || subCategory.includes(filteredData[indexData].mainCate)) {\n            currentAmount += Number(filteredData[indexData].price);\n          }\n        } // this is the index for expenseData\n\n\n        indexData++;\n      } // if not, we're done for while-loop which means going to next date (standardLabel)\n      else indexCurrentDate = false;\n    } // add the accumlated data, and empty\n\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  return data;\n}\n\nfunction test1(standardLabels, filteredData, mainCategory, subCategory) {\n  const data = [];\n  const checkboxNoChange = mainCategory === \"expense\" && subCategory.length === 6 || mainCategory === \"income\" && subCategory.length === 3;\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let yearLabel, monthLabel, dayLabel, yearDate, monthData, dayData;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    yearLabel = standardLabels[i].slice(0, 4);\n    monthLabel = standardLabels[i].slice(5, 7);\n    dayLabel = standardLabels[i].slice(8);\n\n    while (indexCurrentDate) {\n      var _filteredData$indexDa5, _filteredData$indexDa6, _filteredData$indexDa7;\n\n      yearDate = (_filteredData$indexDa5 = filteredData[indexData]) === null || _filteredData$indexDa5 === void 0 ? void 0 : _filteredData$indexDa5.time.slice(0, 4);\n      monthData = (_filteredData$indexDa6 = filteredData[indexData]) === null || _filteredData$indexDa6 === void 0 ? void 0 : _filteredData$indexDa6.time.slice(5, 7);\n      dayData = (_filteredData$indexDa7 = filteredData[indexData]) === null || _filteredData$indexDa7 === void 0 ? void 0 : _filteredData$indexDa7.time.slice(8);\n      /*\n      have to make sure\n      1) year and month is the same\n      2) day is in the valid range\n      */\n\n      if (yearLabel === yearDate && monthLabel === monthData) {\n        if (Number(dayLabel) <= Number(dayData) && 31 >= Number(dayData)) if (filteredData[indexData].category === mainCategory) {\n          if (checkboxNoChange || subCategory.includes(filteredData[indexData].mainCate)) currentAmount += Number(filteredData[indexData].price);\n        }\n        indexData++;\n      } else indexCurrentDate = false;\n    }\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  return data;\n}","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/Others/CreateChartData/createDataArr.js"],"names":["compareTime","compareTimeWithRange","createDataArr","standardLabels","filteredData","timeDuration","mainCategory","subCategory","createDataArrMonth","createDataArrDay","data","checkboxNoChange","length","indexData","indexCurrentDate","currentAmount","currentDate","i","Number","Date","time","category","includes","mainCate","price","push","tesdd","test","console","log","yearLabel","monthLabel","dayLabel","yearDate","monthData","dayData","slice","type","timeValidIndex","test1"],"mappings":"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","sourcesContent":["import compareTime from \"../compareTime\";\nimport compareTimeWithRange from \"../compareTimeWithRange\";\n\nfunction createDataArr(\n  standardLabels,\n  filteredData,\n  timeDuration,\n  mainCategory,\n  subCategory\n) {\n  if (timeDuration === \"12\" || timeDuration === \"6\")\n    return createDataArrMonth(\n      standardLabels,\n      filteredData,\n      mainCategory,\n      subCategory\n    );\n  else\n    return createDataArrDay(\n      standardLabels,\n      filteredData,\n      mainCategory,\n      subCategory\n    );\n}\n\nexport default createDataArr;\n\n/*\nmain logic\n1) loop through each date inside standardLabels\n2) for each loop, use while-loop to keep accumulating the total amount within this date\n3) there are several conditions to make sure catching the correct data\n*/\nfunction createDataArrDay(\n  standardLabels,\n  filteredData,\n  mainCategory,\n  subCategory\n) {\n  const data = [];\n  const checkboxNoChange =\n    (mainCategory === \"expense\" && subCategory.length === 7) ||\n    (mainCategory === \"income\" && subCategory.length === 3);\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let currentDate;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    currentDate = Number(new Date(standardLabels[i]));\n\n    while (indexCurrentDate) {\n      /*\n      find the date of data is less or eqaul to current date\n      keep doing the same thing until the date of data is greater than current date\n      which means have to go to next date\n\n      note that have to add ?.\n      because there's edge case\n      for example, the length of filteredData is 5\n      and at the end of loop, the indexData may be 5\n      it's out of the range of filteredData\n      */\n      if (Number(new Date(filteredData[indexData]?.time)) <= currentDate) {\n        if (filteredData[indexData].category === mainCategory) {\n          /*\n          1) if checkbox has no change which means the user want to get all category, so can directly add the price\n          2) otherwise, have to make sure the category is correct\n          */\n          if (\n            checkboxNoChange ||\n            subCategory.includes(filteredData[indexData].mainCate)\n          ) {\n            currentAmount += Number(filteredData[indexData].price);\n          }\n        }\n\n        // this is the index for expenseData\n        indexData++;\n      }\n      // if not, we're done for while-loop which means going to next date (standardLabel)\n      else indexCurrentDate = false;\n    }\n\n    // add the accumlated data, and empty\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  const tesdd = test(standardLabels, filteredData, mainCategory, subCategory);\n\n  console.log(tesdd);\n  console.log(data);\n\n  return data;\n}\n\n// basically the logic is as same as previos one\nfunction createDataArrMonth(\n  standardLabels,\n  filteredData,\n  mainCategory,\n  subCategory\n) {\n  const data = [];\n  const checkboxNoChange =\n    (mainCategory === \"expense\" && subCategory.length === 6) ||\n    (mainCategory === \"income\" && subCategory.length === 3);\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let yearLabel, monthLabel, dayLabel, yearDate, monthData, dayData;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    yearLabel = standardLabels[i].slice(0, 4);\n    monthLabel = standardLabels[i].slice(5, 7);\n    dayLabel = standardLabels[i].slice(8);\n\n    while (indexCurrentDate) {\n      yearDate = filteredData[indexData]?.time.slice(0, 4);\n      monthData = filteredData[indexData]?.time.slice(5, 7);\n      dayData = filteredData[indexData]?.time.slice(8);\n\n      /*\n      have to make sure\n      1) year and month is the same\n      2) day is in the valid range\n      */\n      if (yearLabel === yearDate && monthLabel === monthData) {\n        if (Number(dayLabel) <= Number(dayData) && 31 >= Number(dayData))\n          if (filteredData[indexData].category === mainCategory) {\n            if (\n              checkboxNoChange ||\n              subCategory.includes(filteredData[indexData].mainCate)\n            )\n              currentAmount += Number(filteredData[indexData].price);\n          }\n\n        indexData++;\n      } else indexCurrentDate = false;\n    }\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  const tesdd = test(standardLabels, filteredData, mainCategory, subCategory);\n\n  console.log(tesdd);\n  console.log(data);\n\n  return data;\n}\n\nfunction test(standardLabels, filteredData, mainCategory, subCategory, type) {\n  const data = [];\n  const checkboxNoChange =\n    (mainCategory === \"expense\" && subCategory.length === 7) ||\n    (mainCategory === \"income\" && subCategory.length === 3);\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let currentDate;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    if (type === \"month\" && i === standardLabels.length - 1) break;\n    currentDate = new Date(standardLabels[i]);\n\n    while (indexCurrentDate) {\n      let timeValidIndex =\n        filteredData[indexData] &&\n        compareTime(filteredData[indexData], currentDate);\n\n      if (type === \"month\") {\n        timeValidIndex =\n          filteredData[indexData] &&\n          compareTimeWithRange(\n            filteredData[indexData],\n            currentDate,\n            new Date(standardLabels[i + 1])\n          );\n      }\n\n      if (timeValidIndex) {\n        if (filteredData[indexData].category === mainCategory) {\n          if (\n            checkboxNoChange ||\n            subCategory.includes(filteredData[indexData].mainCate)\n          ) {\n            currentAmount += Number(filteredData[indexData].price);\n          }\n        }\n\n        // this is the index for expenseData\n        indexData++;\n      }\n      // if not, we're done for while-loop which means going to next date (standardLabel)\n      else indexCurrentDate = false;\n    }\n\n    // add the accumlated data, and empty\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  return data;\n}\n\nfunction test1(standardLabels, filteredData, mainCategory, subCategory) {\n  const data = [];\n  const checkboxNoChange =\n    (mainCategory === \"expense\" && subCategory.length === 6) ||\n    (mainCategory === \"income\" && subCategory.length === 3);\n  let indexData = 0;\n  let indexCurrentDate = true;\n  let currentAmount = 0;\n  let yearLabel, monthLabel, dayLabel, yearDate, monthData, dayData;\n\n  for (let i = 0; i < standardLabels.length; i++) {\n    yearLabel = standardLabels[i].slice(0, 4);\n    monthLabel = standardLabels[i].slice(5, 7);\n    dayLabel = standardLabels[i].slice(8);\n\n    while (indexCurrentDate) {\n      yearDate = filteredData[indexData]?.time.slice(0, 4);\n      monthData = filteredData[indexData]?.time.slice(5, 7);\n      dayData = filteredData[indexData]?.time.slice(8);\n\n      /*\n      have to make sure\n      1) year and month is the same\n      2) day is in the valid range\n      */\n      if (yearLabel === yearDate && monthLabel === monthData) {\n        if (Number(dayLabel) <= Number(dayData) && 31 >= Number(dayData))\n          if (filteredData[indexData].category === mainCategory) {\n            if (\n              checkboxNoChange ||\n              subCategory.includes(filteredData[indexData].mainCate)\n            )\n              currentAmount += Number(filteredData[indexData].price);\n          }\n\n        indexData++;\n      } else indexCurrentDate = false;\n    }\n\n    data.push(currentAmount);\n    currentAmount = 0;\n    indexCurrentDate = true;\n  }\n\n  return data;\n}\n"]},"metadata":{},"sourceType":"module"}