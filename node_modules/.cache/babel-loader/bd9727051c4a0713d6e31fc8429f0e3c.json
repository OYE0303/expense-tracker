{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Chart/ChartMain/ChartMain.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useEffect, useContext } from \"react\";\nimport ExpenseDataContext from \"../../../../store/expenseData/expenseData--context\";\nimport style from \"./ChartMain.module.css\";\nimport Chart from \"chart.js/auto\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst labels = [\"MON\", \"TUE\", \"WED\", \"THR\", \"FRI\", \"SUN\", \"SAT\", \"test\", \"test\", \"test\", \"test\", \"test\", \"test\"];\nconst data = {\n  labels: labels,\n  datasets: [{\n    label: \"My First Dataset\",\n    data: [65, 59, 80, 81, 56, 55, 40, 100, 50, 100, 100, 100, 100],\n    backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(255, 159, 64, 0.2)\", \"rgba(255, 205, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(201, 203, 207, 0.2)\"],\n    borderColor: [\"rgb(255, 99, 132)\", \"rgb(255, 159, 64)\", \"rgb(255, 205, 86)\", \"rgb(75, 192, 192)\", \"rgb(54, 162, 235)\", \"rgb(153, 102, 255)\", \"rgb(201, 203, 207)\"],\n    borderWidth: 1\n  }]\n};\nconst config = {\n  type: \"bar\",\n  data: data,\n  options: {\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  }\n};\n\nfunction ChartMain(props) {\n  _s();\n\n  var _props$chartData;\n\n  const chartRef = useRef(null);\n  const {\n    EXPENSE_DATA\n  } = useContext(ExpenseDataContext);\n  console.log(EXPENSE_DATA);\n  let labels = [];\n  if (props.chartData) labels = createLabelsArr(props.chartData.timeDuration, props.chartData.startingDate);\n  createDataArr(labels, EXPENSE_DATA, (_props$chartData = props.chartData) === null || _props$chartData === void 0 ? void 0 : _props$chartData.startingDate); // useEffect(() => {\n  //   const chart = new Chart(chartRef.current, config);\n  //   return function cleanUp() {\n  //     chart.destroy();\n  //   };\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.chartMain,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChartMain, \"+o1nGUf0gmfc6lFgmRh5QYfQCMo=\");\n\n_c = ChartMain;\nexport default ChartMain;\n\nfunction createDataArr(labels, expensData, start) {\n  var _labels$, _labels$2, _labels, _labels2;\n\n  const year = new Date(start).getFullYear();\n  const startingDate = `${year}-${(_labels$ = labels[0]) === null || _labels$ === void 0 ? void 0 : _labels$.slice(0, 2)}-${(_labels$2 = labels[0]) === null || _labels$2 === void 0 ? void 0 : _labels$2.slice(2)}`;\n  const endingDate = `${year}-${(_labels = labels[labels.length - 1]) === null || _labels === void 0 ? void 0 : _labels.slice(0, 2)}-${(_labels2 = labels[labels.length - 1]) === null || _labels2 === void 0 ? void 0 : _labels2.slice(2)}`;\n  const numStartingDate = Number(new Date(startingDate));\n  const numEndingDate = Number(new Date(endingDate));\n  const filteredData = expensData.filter(element => Number(new Date(element.time)) >= numStartingDate && Number(new Date(element.time)) <= numEndingDate);\n  console.log(filteredData);\n}\n\nfunction createLabelsArr(duration, startingDate) {\n  const today = new Date(startingDate);\n  let labels = []; // one week\n\n  if (duration === \"7\") {\n    createLabelsArrHelper(labels, 7, 1, \"day\", today);\n  }\n\n  if (duration === \"14\") {\n    createLabelsArrHelper(labels, 14, 1, \"day\", today);\n  }\n\n  if (duration === \"30\") {\n    createLabelsArrHelper(labels, 30, 1, \"day\", today);\n  }\n\n  if (duration === \"90\") {\n    createLabelsArrHelper(labels, 30, 3, \"day\", today);\n  }\n\n  if (duration === \"6\") {\n    createLabelsArrHelper(labels, 6, 1, \"month\", today);\n  }\n\n  if (duration === \"12\") {\n    createLabelsArrHelper(labels, 12, 1, \"month\", today);\n  }\n\n  return labels;\n}\n\nfunction createLabelsArrHelper(labels, duration, incrementAmount, dayMonth, today) {\n  let tmpDay = today;\n  let day;\n  let month; // if it's increment by month, the day is never change\n  // we could put it outisde for-loop\n\n  if (dayMonth === \"month\") {\n    if (tmpDay.getDate() < 10) day = `0${tmpDay.getDate()}`;else day = tmpDay.getDate();\n  }\n\n  for (let i = 0; i < duration; i++) {\n    // incremenet by month\n    if (dayMonth === \"month\") tmpDay.setMonth(tmpDay.getMonth() + incrementAmount); // increment by day\n\n    if (dayMonth === \"day\") {\n      tmpDay.setDate(tmpDay.getDate() + incrementAmount); // day will change, so put this inside for-loop\n\n      if (tmpDay.getDate() < 10) day = `0${tmpDay.getDate()}`;else day = tmpDay.getDate();\n    }\n\n    if (tmpDay.getMonth() + 1 < 10) month = `0${tmpDay.getMonth() + 1}`;else month = tmpDay.getMonth() + 1;\n    labels.push(`${month}${day}`);\n  }\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ChartMain\");","map":{"version":3,"sources":["/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Chart/ChartMain/ChartMain.js"],"names":["useRef","useEffect","useContext","ExpenseDataContext","style","Chart","labels","data","datasets","label","backgroundColor","borderColor","borderWidth","config","type","options","scales","y","beginAtZero","ChartMain","props","chartRef","EXPENSE_DATA","console","log","chartData","createLabelsArr","timeDuration","startingDate","createDataArr","chartMain","expensData","start","year","Date","getFullYear","slice","endingDate","length","numStartingDate","Number","numEndingDate","filteredData","filter","element","time","duration","today","createLabelsArrHelper","incrementAmount","dayMonth","tmpDay","day","month","getDate","i","setMonth","getMonth","setDate","push"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,SAAjB,EAA4BC,UAA5B,QAA8C,OAA9C;AACA,OAAOC,kBAAP,MAA+B,oDAA/B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;;AACA,MAAMC,MAAM,GAAG,CACb,KADa,EAEb,KAFa,EAGb,KAHa,EAIb,KAJa,EAKb,KALa,EAMb,KANa,EAOb,KAPa,EAQb,MARa,EASb,MATa,EAUb,MAVa,EAWb,MAXa,EAYb,MAZa,EAab,MAba,CAAf;AAgBA,MAAMC,IAAI,GAAG;AACXD,EAAAA,MAAM,EAAEA,MADG;AAEXE,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,KAAK,EAAE,kBADT;AAEEF,IAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,GAA7B,EAAkC,EAAlC,EAAsC,GAAtC,EAA2C,GAA3C,EAAgD,GAAhD,EAAqD,GAArD,CAFR;AAGEG,IAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,yBALe,EAMf,0BANe,EAOf,0BAPe,CAHnB;AAYEC,IAAAA,WAAW,EAAE,CACX,mBADW,EAEX,mBAFW,EAGX,mBAHW,EAIX,mBAJW,EAKX,mBALW,EAMX,oBANW,EAOX,oBAPW,CAZf;AAqBEC,IAAAA,WAAW,EAAE;AArBf,GADQ;AAFC,CAAb;AA6BA,MAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE,KADO;AAEbP,EAAAA,IAAI,EAAEA,IAFO;AAGbQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AACNC,MAAAA,CAAC,EAAE;AACDC,QAAAA,WAAW,EAAE;AADZ;AADG;AADD;AAHI,CAAf;;AAYA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AAAA;;AACxB,QAAMC,QAAQ,GAAGrB,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM;AAAEsB,IAAAA;AAAF,MAAmBpB,UAAU,CAACC,kBAAD,CAAnC;AACAoB,EAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AAEA,MAAIhB,MAAM,GAAG,EAAb;AACA,MAAIc,KAAK,CAACK,SAAV,EACEnB,MAAM,GAAGoB,eAAe,CACtBN,KAAK,CAACK,SAAN,CAAgBE,YADM,EAEtBP,KAAK,CAACK,SAAN,CAAgBG,YAFM,CAAxB;AAKFC,EAAAA,aAAa,CAACvB,MAAD,EAASgB,YAAT,sBAAuBF,KAAK,CAACK,SAA7B,qDAAuB,iBAAiBG,YAAxC,CAAb,CAZwB,CAcxB;AACA;AAEA;AACA;AACA;AACA;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAExB,KAAK,CAAC0B,SAAtB;AAAA,2BACE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA3BQX,S;;KAAAA,S;AA6BT,eAAeA,SAAf;;AAEA,SAASU,aAAT,CAAuBvB,MAAvB,EAA+ByB,UAA/B,EAA2CC,KAA3C,EAAkD;AAAA;;AAChD,QAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASF,KAAT,EAAgBG,WAAhB,EAAb;AACA,QAAMP,YAAY,GAAI,GAAEK,IAAK,IAAR,YAAW3B,MAAM,CAAC,CAAD,CAAjB,6CAAW,SAAW8B,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAuB,IAAlC,aAAqC9B,MAAM,CAAC,CAAD,CAA3C,8CAAqC,UAAW8B,KAAX,CACxD,CADwD,CAExD,EAFF;AAGA,QAAMC,UAAU,GAAI,GAAEJ,IAAK,IAAR,WAAW3B,MAAM,CAACA,MAAM,CAACgC,MAAP,GAAgB,CAAjB,CAAjB,4CAAW,QAA2BF,KAA3B,CAC5B,CAD4B,EAE5B,CAF4B,CAG5B,IAHiB,YAGd9B,MAAM,CAACA,MAAM,CAACgC,MAAP,GAAgB,CAAjB,CAHQ,6CAGd,SAA2BF,KAA3B,CAAiC,CAAjC,CAAoC,EAHzC;AAKA,QAAMG,eAAe,GAAGC,MAAM,CAAC,IAAIN,IAAJ,CAASN,YAAT,CAAD,CAA9B;AACA,QAAMa,aAAa,GAAGD,MAAM,CAAC,IAAIN,IAAJ,CAASG,UAAT,CAAD,CAA5B;AAEA,QAAMK,YAAY,GAAGX,UAAU,CAACY,MAAX,CAClBC,OAAD,IACEJ,MAAM,CAAC,IAAIN,IAAJ,CAASU,OAAO,CAACC,IAAjB,CAAD,CAAN,IAAkCN,eAAlC,IACAC,MAAM,CAAC,IAAIN,IAAJ,CAASU,OAAO,CAACC,IAAjB,CAAD,CAAN,IAAkCJ,aAHjB,CAArB;AAMAlB,EAAAA,OAAO,CAACC,GAAR,CAAYkB,YAAZ;AACD;;AAED,SAAShB,eAAT,CAAyBoB,QAAzB,EAAmClB,YAAnC,EAAiD;AAC/C,QAAMmB,KAAK,GAAG,IAAIb,IAAJ,CAASN,YAAT,CAAd;AAEA,MAAItB,MAAM,GAAG,EAAb,CAH+C,CAK/C;;AACA,MAAIwC,QAAQ,KAAK,GAAjB,EAAsB;AACpBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,CAAT,EAAY,CAAZ,EAAe,KAAf,EAAsByC,KAAtB,CAArB;AACD;;AAED,MAAID,QAAQ,KAAK,IAAjB,EAAuB;AACrBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,EAAT,EAAa,CAAb,EAAgB,KAAhB,EAAuByC,KAAvB,CAArB;AACD;;AAED,MAAID,QAAQ,KAAK,IAAjB,EAAuB;AACrBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,EAAT,EAAa,CAAb,EAAgB,KAAhB,EAAuByC,KAAvB,CAArB;AACD;;AAED,MAAID,QAAQ,KAAK,IAAjB,EAAuB;AACrBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,EAAT,EAAa,CAAb,EAAgB,KAAhB,EAAuByC,KAAvB,CAArB;AACD;;AAED,MAAID,QAAQ,KAAK,GAAjB,EAAsB;AACpBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,CAAT,EAAY,CAAZ,EAAe,OAAf,EAAwByC,KAAxB,CAArB;AACD;;AAED,MAAID,QAAQ,KAAK,IAAjB,EAAuB;AACrBE,IAAAA,qBAAqB,CAAC1C,MAAD,EAAS,EAAT,EAAa,CAAb,EAAgB,OAAhB,EAAyByC,KAAzB,CAArB;AACD;;AAED,SAAOzC,MAAP;AACD;;AAED,SAAS0C,qBAAT,CACE1C,MADF,EAEEwC,QAFF,EAGEG,eAHF,EAIEC,QAJF,EAKEH,KALF,EAME;AACA,MAAII,MAAM,GAAGJ,KAAb;AACA,MAAIK,GAAJ;AACA,MAAIC,KAAJ,CAHA,CAKA;AACA;;AACA,MAAIH,QAAQ,KAAK,OAAjB,EAA0B;AACxB,QAAIC,MAAM,CAACG,OAAP,KAAmB,EAAvB,EAA2BF,GAAG,GAAI,IAAGD,MAAM,CAACG,OAAP,EAAiB,EAA3B,CAA3B,KACKF,GAAG,GAAGD,MAAM,CAACG,OAAP,EAAN;AACN;;AAED,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,QAApB,EAA8BS,CAAC,EAA/B,EAAmC;AACjC;AACA,QAAIL,QAAQ,KAAK,OAAjB,EACEC,MAAM,CAACK,QAAP,CAAgBL,MAAM,CAACM,QAAP,KAAoBR,eAApC,EAH+B,CAKjC;;AACA,QAAIC,QAAQ,KAAK,KAAjB,EAAwB;AACtBC,MAAAA,MAAM,CAACO,OAAP,CAAeP,MAAM,CAACG,OAAP,KAAmBL,eAAlC,EADsB,CAGtB;;AACA,UAAIE,MAAM,CAACG,OAAP,KAAmB,EAAvB,EAA2BF,GAAG,GAAI,IAAGD,MAAM,CAACG,OAAP,EAAiB,EAA3B,CAA3B,KACKF,GAAG,GAAGD,MAAM,CAACG,OAAP,EAAN;AACN;;AAED,QAAIH,MAAM,CAACM,QAAP,KAAoB,CAApB,GAAwB,EAA5B,EAAgCJ,KAAK,GAAI,IAAGF,MAAM,CAACM,QAAP,KAAoB,CAAE,EAAlC,CAAhC,KACKJ,KAAK,GAAGF,MAAM,CAACM,QAAP,KAAoB,CAA5B;AAELnD,IAAAA,MAAM,CAACqD,IAAP,CAAa,GAAEN,KAAM,GAAED,GAAI,EAA3B;AACD;AACF","sourcesContent":["import { useRef, useEffect, useContext } from \"react\";\nimport ExpenseDataContext from \"../../../../store/expenseData/expenseData--context\";\nimport style from \"./ChartMain.module.css\";\nimport Chart from \"chart.js/auto\";\nconst labels = [\n  \"MON\",\n  \"TUE\",\n  \"WED\",\n  \"THR\",\n  \"FRI\",\n  \"SUN\",\n  \"SAT\",\n  \"test\",\n  \"test\",\n  \"test\",\n  \"test\",\n  \"test\",\n  \"test\",\n];\n\nconst data = {\n  labels: labels,\n  datasets: [\n    {\n      label: \"My First Dataset\",\n      data: [65, 59, 80, 81, 56, 55, 40, 100, 50, 100, 100, 100, 100],\n      backgroundColor: [\n        \"rgba(255, 99, 132, 0.2)\",\n        \"rgba(255, 159, 64, 0.2)\",\n        \"rgba(255, 205, 86, 0.2)\",\n        \"rgba(75, 192, 192, 0.2)\",\n        \"rgba(54, 162, 235, 0.2)\",\n        \"rgba(153, 102, 255, 0.2)\",\n        \"rgba(201, 203, 207, 0.2)\",\n      ],\n      borderColor: [\n        \"rgb(255, 99, 132)\",\n        \"rgb(255, 159, 64)\",\n        \"rgb(255, 205, 86)\",\n        \"rgb(75, 192, 192)\",\n        \"rgb(54, 162, 235)\",\n        \"rgb(153, 102, 255)\",\n        \"rgb(201, 203, 207)\",\n      ],\n      borderWidth: 1,\n    },\n  ],\n};\n\nconst config = {\n  type: \"bar\",\n  data: data,\n  options: {\n    scales: {\n      y: {\n        beginAtZero: true,\n      },\n    },\n  },\n};\n\nfunction ChartMain(props) {\n  const chartRef = useRef(null);\n  const { EXPENSE_DATA } = useContext(ExpenseDataContext);\n  console.log(EXPENSE_DATA);\n\n  let labels = [];\n  if (props.chartData)\n    labels = createLabelsArr(\n      props.chartData.timeDuration,\n      props.chartData.startingDate\n    );\n\n  createDataArr(labels, EXPENSE_DATA, props.chartData?.startingDate);\n\n  // useEffect(() => {\n  //   const chart = new Chart(chartRef.current, config);\n\n  //   return function cleanUp() {\n  //     chart.destroy();\n  //   };\n  // }, []);\n\n  return (\n    <div className={style.chartMain}>\n      <div>{/* <canvas ref={chartRef}></canvas> */}</div>\n    </div>\n  );\n}\n\nexport default ChartMain;\n\nfunction createDataArr(labels, expensData, start) {\n  const year = new Date(start).getFullYear();\n  const startingDate = `${year}-${labels[0]?.slice(0, 2)}-${labels[0]?.slice(\n    2\n  )}`;\n  const endingDate = `${year}-${labels[labels.length - 1]?.slice(\n    0,\n    2\n  )}-${labels[labels.length - 1]?.slice(2)}`;\n\n  const numStartingDate = Number(new Date(startingDate));\n  const numEndingDate = Number(new Date(endingDate));\n\n  const filteredData = expensData.filter(\n    (element) =>\n      Number(new Date(element.time)) >= numStartingDate &&\n      Number(new Date(element.time)) <= numEndingDate\n  );\n\n  console.log(filteredData);\n}\n\nfunction createLabelsArr(duration, startingDate) {\n  const today = new Date(startingDate);\n\n  let labels = [];\n\n  // one week\n  if (duration === \"7\") {\n    createLabelsArrHelper(labels, 7, 1, \"day\", today);\n  }\n\n  if (duration === \"14\") {\n    createLabelsArrHelper(labels, 14, 1, \"day\", today);\n  }\n\n  if (duration === \"30\") {\n    createLabelsArrHelper(labels, 30, 1, \"day\", today);\n  }\n\n  if (duration === \"90\") {\n    createLabelsArrHelper(labels, 30, 3, \"day\", today);\n  }\n\n  if (duration === \"6\") {\n    createLabelsArrHelper(labels, 6, 1, \"month\", today);\n  }\n\n  if (duration === \"12\") {\n    createLabelsArrHelper(labels, 12, 1, \"month\", today);\n  }\n\n  return labels;\n}\n\nfunction createLabelsArrHelper(\n  labels,\n  duration,\n  incrementAmount,\n  dayMonth,\n  today\n) {\n  let tmpDay = today;\n  let day;\n  let month;\n\n  // if it's increment by month, the day is never change\n  // we could put it outisde for-loop\n  if (dayMonth === \"month\") {\n    if (tmpDay.getDate() < 10) day = `0${tmpDay.getDate()}`;\n    else day = tmpDay.getDate();\n  }\n\n  for (let i = 0; i < duration; i++) {\n    // incremenet by month\n    if (dayMonth === \"month\")\n      tmpDay.setMonth(tmpDay.getMonth() + incrementAmount);\n\n    // increment by day\n    if (dayMonth === \"day\") {\n      tmpDay.setDate(tmpDay.getDate() + incrementAmount);\n\n      // day will change, so put this inside for-loop\n      if (tmpDay.getDate() < 10) day = `0${tmpDay.getDate()}`;\n      else day = tmpDay.getDate();\n    }\n\n    if (tmpDay.getMonth() + 1 < 10) month = `0${tmpDay.getMonth() + 1}`;\n    else month = tmpDay.getMonth() + 1;\n\n    labels.push(`${month}${day}`);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}