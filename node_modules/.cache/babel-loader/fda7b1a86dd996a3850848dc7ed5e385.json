{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/components/UI/AddingSubCategoryModal/AddingSubCategoryModal.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useReducer } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport SubTitle from \"../SubTitle/SubTitle\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport InputText from \"../InputText/InputText\";\nimport Button from \"../Button/Button\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport style from \"./AddingSubCategoryModal.module.css\";\nimport Warning from \"../Warning/Warning\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\":\n      {\n        const isDuplicate = state.categoryNameArr.includes(action.value);\n        const isValid = action.value.trim().length > 0 && !isDuplicate;\n        return { ...state,\n          name: action.value,\n          isValid,\n          isDuplicate\n        };\n      }\n\n    case \"TOUCH\":\n      {\n        return { ...state,\n          isTouch: true\n        };\n      }\n\n    default:\n      break;\n  }\n}\n\nfunction AddingSubCategoryModal(props) {\n  _s();\n\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    isDuplicate: false,\n    isTouch: false,\n    isValid: false,\n    categoryNameArr\n  });\n  const [name, setName] = useState(\"\");\n  const [duplicate, setDuplicate] = useState(false);\n  const {\n    categoryExpense,\n    categoryIncome,\n    addSubCategory\n  } = useContext(CategoryContext);\n  const categoryNameArr = props.type === \"expense\" ? categoryExpense[props.mainCategory] : categoryIncome[props.mainCategory];\n\n  function inputTextChangeHandler(e) {\n    setName(e.target.value);\n    setDuplicate(subCategoryNameArr.includes(e.target.value));\n  }\n\n  function submitHandler(e) {\n    e.preventDefault(); // the logic here is exactly as same as adding main category\n\n    addSubCategory(name, props.type, props.mainCategory);\n    props.addSubCategoryModalToggler(null, name);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    classModal: style.modal,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      className: style.title,\n      children: \"add sub category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style[\"subtitle__container\"],\n      children: /*#__PURE__*/_jsxDEV(SubTitle, {\n        className: style.subtitle,\n        children: [\"you're adding sub category of \", props.mainCategory]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"big__container\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"input__container\"],\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            name: \"subcategory name\",\n            label: \"subcategory name\",\n            value: name,\n            onChange: inputTextChangeHandler,\n            classLabel: style.label,\n            classInput: duplicate ? `${style.input} ${style[\"input--invalid\"]}` : `${style.input}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Warning, {\n          className: style.warning,\n          index: duplicate,\n          children: \"duplicate category name is not allowed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"btn__container\"],\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          className: `${style.btn} ${style[\"btn--isValid\"]}`,\n          onClick: props.addSubCategoryModalToggler,\n          children: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button\n        /*\n        Note that \n        if disabled={true}, it means do NOT let user submit the form\n        so the logic would be, we only want it to be true if the data is NOT valid\n         in this case, if\n        1) there is no name (input)\n        2) the name is duplicate\n        then we want the button to be disabled\n         note that this condition is exactly opposite of the className below\n        */\n        , {\n          disabled: name.trim().length === 0 || duplicate,\n          type: \"submit\",\n          className: name.trim().length > 0 && !duplicate ? `${style.btn} ${style[\"btn--isValid\"]}` : `${style.btn}`,\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddingSubCategoryModal, \"jqMZSzkSnvE4Ft54AbN9A5OIxaA=\");\n\n_c = AddingSubCategoryModal;\nexport default AddingSubCategoryModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddingSubCategoryModal\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/components/UI/AddingSubCategoryModal/AddingSubCategoryModal.js"],"names":["useState","useContext","useReducer","Modal","Title","SubTitle","HorizontalLine","InputText","Button","CategoryContext","style","Warning","reducer","state","action","type","isDuplicate","categoryNameArr","includes","value","isValid","trim","length","name","isTouch","AddingSubCategoryModal","props","form","formDispatch","setName","duplicate","setDuplicate","categoryExpense","categoryIncome","addSubCategory","mainCategory","inputTextChangeHandler","e","target","subCategoryNameArr","submitHandler","preventDefault","addSubCategoryModalToggler","modal","title","subtitle","label","input","warning","btn"],"mappings":"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","sourcesContent":["import { useState, useContext, useReducer } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Title from \"../Title/Title\";\nimport SubTitle from \"../SubTitle/SubTitle\";\nimport HorizontalLine from \"../HorizontalLine/HorizontalLine\";\nimport InputText from \"../InputText/InputText\";\nimport Button from \"../Button/Button\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport style from \"./AddingSubCategoryModal.module.css\";\nimport Warning from \"../Warning/Warning\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"NAME\": {\n      const isDuplicate = state.categoryNameArr.includes(action.value);\n      const isValid = action.value.trim().length > 0 && !isDuplicate;\n\n      return { ...state, name: action.value, isValid, isDuplicate };\n    }\n\n    case \"TOUCH\": {\n      return { ...state, isTouch: true };\n    }\n\n    default:\n      break;\n  }\n}\n\nfunction AddingSubCategoryModal(props) {\n  const [form, formDispatch] = useReducer(reducer, {\n    name: \"\",\n    isDuplicate: false,\n    isTouch: false,\n    isValid: false,\n    categoryNameArr,\n  });\n  const [name, setName] = useState(\"\");\n  const [duplicate, setDuplicate] = useState(false);\n\n  const { categoryExpense, categoryIncome, addSubCategory } =\n    useContext(CategoryContext);\n\n  const categoryNameArr =\n    props.type === \"expense\"\n      ? categoryExpense[props.mainCategory]\n      : categoryIncome[props.mainCategory];\n\n  function inputTextChangeHandler(e) {\n    setName(e.target.value);\n\n    setDuplicate(subCategoryNameArr.includes(e.target.value));\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n\n    // the logic here is exactly as same as adding main category\n\n    addSubCategory(name, props.type, props.mainCategory);\n\n    props.addSubCategoryModalToggler(null, name);\n  }\n\n  return (\n    <Modal classModal={style.modal}>\n      <Title className={style.title}>add sub category</Title>\n      <HorizontalLine />\n      <div className={style[\"subtitle__container\"]}>\n        <SubTitle className={style.subtitle}>\n          you're adding sub category of {props.mainCategory}\n        </SubTitle>\n      </div>\n      <form onSubmit={submitHandler}>\n        <div className={style[\"big__container\"]}>\n          <div className={style[\"input__container\"]}>\n            <InputText\n              name=\"subcategory name\"\n              label=\"subcategory name\"\n              value={name}\n              onChange={inputTextChangeHandler}\n              classLabel={style.label}\n              classInput={\n                duplicate\n                  ? `${style.input} ${style[\"input--invalid\"]}`\n                  : `${style.input}`\n              }\n            />\n          </div>\n\n          <Warning className={style.warning} index={duplicate}>\n            duplicate category name is not allowed\n          </Warning>\n        </div>\n\n        <div className={style[\"btn__container\"]}>\n          <Button\n            type=\"button\"\n            className={`${style.btn} ${style[\"btn--isValid\"]}`}\n            onClick={props.addSubCategoryModalToggler}\n          >\n            cancel\n          </Button>\n          <Button\n            /*\n            Note that \n            if disabled={true}, it means do NOT let user submit the form\n            so the logic would be, we only want it to be true if the data is NOT valid\n\n            in this case, if\n            1) there is no name (input)\n            2) the name is duplicate\n            then we want the button to be disabled\n\n            note that this condition is exactly opposite of the className below\n            */\n            disabled={name.trim().length === 0 || duplicate}\n            type=\"submit\"\n            className={\n              name.trim().length > 0 && !duplicate\n                ? `${style.btn} ${style[\"btn--isValid\"]}`\n                : `${style.btn}`\n            }\n          >\n            add\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n\nexport default AddingSubCategoryModal;\n"]},"metadata":{},"sourceType":"module"}