{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Calendar/Monthly/CreateCalendar.js\";\nimport { React } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport style from \"./CreateCalendar.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DATE = new Date();\nconst MONTH = DATE.getMonth();\nconst TODAY = DATE.getDate();\nconst cacheObj = {};\n\nfunction CreateCalendar(date, showModalHandler, expenseData) {\n  // let key = date.getFullYear() + \"\" + (date.getMonth() + 1);\n  // if (key.length < 6) {\n  //   key = date.getFullYear() + \"0\" + (date.getMonth() + 1);\n  // }\n  // if (!cacheObj[key]) {\n  //   addCacheData(cacheObj, date, key, expenseData);\n  // }\n  const res = [];\n  const dayExpense = expenseData.filter(element => Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"expense\").map(element => Number(element.time.slice(8)));\n  const dayIncome = expenseData.filter(element => Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"income\").map(element => Number(element.time.slice(8)));\n  /*\n  last day of current month\n  0 gives us the last day of previous month\n  + 1 makes to be last day fo current month\n  getDate gives us the number type\n  */\n\n  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate(); // last day of previous month\n\n  const prevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate(); // last day of the week (current month)\n\n  const lastDayIndex = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay(); // first day of the week (current month)\n\n  const firstDayIndex = new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n  const nextDays = 7 - lastDayIndex - 1; // day of previous month\n\n  for (let i = firstDayIndex; i > 0; i--) {\n    res.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.negative,\n      children: prevLastDay - i + 1\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this));\n  } // day of current month\n\n\n  for (let i = 1; i <= lastDay; i++) {\n    // TODAY\n    if (i === TODAY && date.getMonth() === MONTH) {\n      res.push(checkDot(i >= 10 ? i + \"\" : \"0\" + i, true, dayExpense, dayIncome, showModalHandler, key));\n    } // other days\n    else res.push(checkDot(i >= 10 ? i + \"\" : \"0\" + i, false, dayExpense, dayIncome, showModalHandler, key));\n  } // day of next month\n\n\n  for (let i = 1; i <= nextDays; i++) {\n    res.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.negative,\n      children: i\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this));\n  }\n\n  return res;\n}\n\n_c = CreateCalendar;\nexport default CreateCalendar; ///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n\nfunction checkDot(i, current, dayExpense, dayIncome, showModalHandler, key) {\n  const numberI = Number(i);\n  const noDots = !(dayExpense.includes(numberI) || dayIncome.includes(numberI));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: showModalHandler,\n    className: current ? style.current : \"\",\n    \"data-id\": key + i,\n    children: [i, noDots || /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style[\"dot__container\"],\n      children: [dayExpense.includes(numberI) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${style[\"dot--blue\"]} ${style.dot}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this), dayIncome.includes(numberI) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${style[\"dot--pink\"]} ${style.dot}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this)]\n  }, uuidv4(), true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\nfunction addCacheData(cacheObj, date, key, expenseData) {\n  // each value in cache object is an array containing two arrays(day of expense and income)\n  cacheObj[key] = [];\n  const dayExpense = expenseData.filter(element => Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"expense\").map(element => Number(element.time.slice(8)));\n  const dayIncome = expenseData.filter(element => Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"income\").map(element => Number(element.time.slice(8)));\n  cacheObj[key].push(dayExpense);\n  cacheObj[key].push(dayIncome);\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCalendar\");","map":{"version":3,"sources":["/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Calendar/Monthly/CreateCalendar.js"],"names":["React","v4","uuidv4","style","DATE","Date","MONTH","getMonth","TODAY","getDate","cacheObj","CreateCalendar","date","showModalHandler","expenseData","res","dayExpense","filter","element","Number","time","slice","getFullYear","category","map","dayIncome","lastDay","prevLastDay","lastDayIndex","getDay","firstDayIndex","nextDays","i","push","negative","checkDot","key","current","numberI","noDots","includes","dot","addCacheData"],"mappings":"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","sourcesContent":["import { React } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport style from \"./CreateCalendar.module.css\";\n\nconst DATE = new Date();\nconst MONTH = DATE.getMonth();\nconst TODAY = DATE.getDate();\n\nconst cacheObj = {};\n\nfunction CreateCalendar(date, showModalHandler, expenseData) {\n  // let key = date.getFullYear() + \"\" + (date.getMonth() + 1);\n  // if (key.length < 6) {\n  //   key = date.getFullYear() + \"0\" + (date.getMonth() + 1);\n  // }\n\n  // if (!cacheObj[key]) {\n  //   addCacheData(cacheObj, date, key, expenseData);\n  // }\n\n  const res = [];\n\n  const dayExpense = expenseData\n    .filter(\n      (element) =>\n        Number(element.time.slice(0, 4)) === date.getFullYear() &&\n        Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n        element.category === \"expense\"\n    )\n    .map((element) => Number(element.time.slice(8)));\n\n  const dayIncome = expenseData\n    .filter(\n      (element) =>\n        Number(element.time.slice(0, 4)) === date.getFullYear() &&\n        Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n        element.category === \"income\"\n    )\n    .map((element) => Number(element.time.slice(8)));\n\n  /*\n  last day of current month\n  0 gives us the last day of previous month\n  + 1 makes to be last day fo current month\n  getDate gives us the number type\n  */\n  const lastDay = new Date(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    0\n  ).getDate();\n\n  // last day of previous month\n  const prevLastDay = new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    0\n  ).getDate();\n\n  // last day of the week (current month)\n  const lastDayIndex = new Date(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    0\n  ).getDay();\n\n  // first day of the week (current month)\n  const firstDayIndex = new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    1\n  ).getDay();\n\n  const nextDays = 7 - lastDayIndex - 1;\n\n  // day of previous month\n  for (let i = firstDayIndex; i > 0; i--) {\n    res.push(\n      <div className={style.negative} key={uuidv4()}>\n        {prevLastDay - i + 1}\n      </div>\n    );\n  }\n\n  // day of current month\n  for (let i = 1; i <= lastDay; i++) {\n    // TODAY\n    if (i === TODAY && date.getMonth() === MONTH) {\n      res.push(\n        checkDot(\n          i >= 10 ? i + \"\" : \"0\" + i,\n          true,\n          dayExpense,\n          dayIncome,\n          showModalHandler,\n          key\n        )\n      );\n    }\n    // other days\n    else\n      res.push(\n        checkDot(\n          i >= 10 ? i + \"\" : \"0\" + i,\n          false,\n          dayExpense,\n          dayIncome,\n          showModalHandler,\n          key\n        )\n      );\n  }\n\n  // day of next month\n  for (let i = 1; i <= nextDays; i++) {\n    res.push(\n      <div className={style.negative} key={uuidv4()}>\n        {i}\n      </div>\n    );\n  }\n\n  return res;\n}\n\nexport default CreateCalendar;\n\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\nfunction checkDot(i, current, dayExpense, dayIncome, showModalHandler, key) {\n  const numberI = Number(i);\n  const noDots = !(dayExpense.includes(numberI) || dayIncome.includes(numberI));\n\n  return (\n    <div\n      onClick={showModalHandler}\n      className={current ? style.current : \"\"}\n      key={uuidv4()}\n      data-id={key + i}\n    >\n      {i}\n      {noDots || (\n        <div className={style[\"dot__container\"]}>\n          {dayExpense.includes(numberI) && (\n            <span className={`${style[\"dot--blue\"]} ${style.dot}`}></span>\n          )}\n          {dayIncome.includes(numberI) && (\n            <span className={`${style[\"dot--pink\"]} ${style.dot}`}></span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction addCacheData(cacheObj, date, key, expenseData) {\n  // each value in cache object is an array containing two arrays(day of expense and income)\n  cacheObj[key] = [];\n\n  const dayExpense = expenseData\n    .filter(\n      (element) =>\n        Number(element.time.slice(0, 4)) === date.getFullYear() &&\n        Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n        element.category === \"expense\"\n    )\n    .map((element) => Number(element.time.slice(8)));\n\n  const dayIncome = expenseData\n    .filter(\n      (element) =>\n        Number(element.time.slice(0, 4)) === date.getFullYear() &&\n        Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n        element.category === \"income\"\n    )\n    .map((element) => Number(element.time.slice(8)));\n\n  cacheObj[key].push(dayExpense);\n  cacheObj[key].push(dayIncome);\n}\n"]},"metadata":{},"sourceType":"module"}