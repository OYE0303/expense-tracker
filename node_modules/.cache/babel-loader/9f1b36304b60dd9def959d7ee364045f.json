{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Calendar/Monthly/createCalendar.js\";\nimport { React } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport style from \"./createCalendar.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DATE = new Date();\nconst MONTH = DATE.getMonth();\nconst TODAY = DATE.getDate();\nconst EXPENSE_DATA = [{\n  category: \"expense\",\n  mainCate: \"food\",\n  subCate: \"breakfast\",\n  time: \"2021-08-01\",\n  description: \"Burger\",\n  money: \"50\"\n}, {\n  category: \"expense\",\n  mainCate: \"clothing\",\n  subCate: \"t-shirt\",\n  time: \"2021-04-11\",\n  money: \"100\"\n}, {\n  category: \"expense\",\n  mainCate: \"housing\",\n  subCate: \"bill\",\n  time: \"2021-10-23\",\n  money: \"500\"\n}, {\n  category: \"expense\",\n  mainCate: \"transportation\",\n  subCate: \"bus\",\n  time: \"2021-02-15\",\n  description: \"Burger\",\n  money: \"10\"\n}, {\n  category: \"income\",\n  mainCate: \"salary\",\n  subCate: \"salary\",\n  time: \"2021-09-13\",\n  money: \"3000\"\n}, {\n  category: \"expense\",\n  mainCate: \"housing\",\n  subCate: \"bill\",\n  time: \"2021-09-08\",\n  money: \"500\"\n}, {\n  category: \"expense\",\n  mainCate: \"food\",\n  subCate: \"dinner\",\n  time: \"2021-09-01\",\n  description: \"Burger\",\n  money: \"110\"\n}, {\n  category: \"income\",\n  mainCate: \"stock\",\n  subCate: \"stock\",\n  time: \"2021-09-01\",\n  money: \"100\"\n}, {\n  category: \"expense\",\n  mainCate: \"education\",\n  subCate: \"book\",\n  time: \"2021-09-11\",\n  money: \"50\"\n}, {\n  category: \"income\",\n  mainCate: \"salary\",\n  subCate: \"salary\",\n  time: \"2021-09-18\",\n  money: \"1000\"\n}, {\n  category: \"expense\",\n  mainCate: \"entertainment\",\n  subCate: \"video games\",\n  time: \"2021-09-23\",\n  description: \"Burger\",\n  money: \"110\"\n}, {\n  category: \"income\",\n  mainCate: \"bonus\",\n  subCate: \"bonus\",\n  time: \"2021-09-12\",\n  money: \"500\"\n}, {\n  category: \"expense\",\n  mainCate: \"food\",\n  subCate: \"BreakFast\",\n  time: \"2021-09-22\",\n  description: \"Burger\",\n  money: \"110\"\n}, {\n  category: \"income\",\n  mainCate: \"others\",\n  subCate: \"others\",\n  time: \"2021-09-21\",\n  money: \"100\"\n}];\nconst cacheObj = {};\n\nfunction createCalendar(date, {\n  setModalShown\n}) {\n  const key = date.getFullYear() + \"\" + date.getMonth();\n\n  if (!cacheObj[key]) {\n    addCacheData(cacheObj, date, key);\n  }\n\n  const res = [];\n\n  function showModalHandler(e) {\n    console.log(e.target);\n    setModalShown(true);\n  } // last day of current month\n  // 0 gives us the last day of previous month\n  // + 1 makes to be last day fo current month\n  // get date gives us the number type\n\n\n  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  const prevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate(); // last day of previous month\n  // last day of the week (current month)\n\n  const lastDayIndex = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay(); // first day of the week (current month)\n  // const firstDayIndex = date.getDay();\n\n  const firstDayIndex = new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n  const nextDays = 7 - lastDayIndex - 1;\n\n  for (let i = firstDayIndex; i > 0; i--) {\n    res.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.negative,\n      children: prevLastDay - i + 1\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this));\n  }\n\n  for (let i = 1; i <= lastDay; i++) {\n    if (i === TODAY && date.getMonth() === MONTH) {\n      res.push(checkDot(i, true, cacheObj[key][0], cacheObj[key][1], showModalHandler));\n    } else res.push(checkDot(i, false, cacheObj[key][0], cacheObj[key][1], showModalHandler));\n  }\n\n  for (let i = 1; i <= nextDays; i++) {\n    res.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.negative,\n      children: i\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this));\n  }\n\n  return res;\n}\n\nexport default createCalendar; ///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n\nfunction checkDot(i, current, TIME_EXPENSE, TIME_INCOME, showModalHandler) {\n  if (TIME_EXPENSE.includes(i)) {\n    if (TIME_INCOME.includes(i)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: showModalHandler,\n        className: current ? style.current : \"\",\n        children: [i, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"dot__container\"],\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${style[\"dot--blue\"]} ${style.dot}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${style[\"dot--pink\"]} ${style.dot}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, uuidv4(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: showModalHandler,\n        className: current ? style.current : \"\",\n        children: [i, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"dot__container\"],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${style[\"dot--blue\"]} ${style.dot}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, uuidv4(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this);\n    }\n  } else if (TIME_INCOME.includes(i)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: showModalHandler,\n      className: current ? style.current : \"\",\n      children: [i, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"dot__container\"],\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${style[\"dot--pink\"]} ${style.dot}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, uuidv4(), true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: showModalHandler,\n      className: current ? style.current : \"\",\n      children: i\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n}\n\nfunction addCacheData(cacheObj, date, key) {\n  cacheObj[key] = [];\n  const TIME_EXPENSE = EXPENSE_DATA.filter(element => {\n    if (Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"expense\") return true;\n  }).map(element => Number(element.time.slice(8)));\n  cacheObj[key].push(TIME_EXPENSE);\n  const TIME_INCOME = EXPENSE_DATA.filter(element => {\n    if (Number(element.time.slice(0, 4)) === date.getFullYear() && Number(element.time.slice(5, 7)) === date.getMonth() + 1 && element.category === \"income\") return true;\n  }).map(element => Number(element.time.slice(8)));\n  cacheObj[key].push(TIME_INCOME);\n}","map":{"version":3,"sources":["/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Calendar/Monthly/createCalendar.js"],"names":["React","v4","uuidv4","style","DATE","Date","MONTH","getMonth","TODAY","getDate","EXPENSE_DATA","category","mainCate","subCate","time","description","money","cacheObj","createCalendar","date","setModalShown","key","getFullYear","addCacheData","res","showModalHandler","e","console","log","target","lastDay","prevLastDay","lastDayIndex","getDay","firstDayIndex","nextDays","i","push","negative","checkDot","current","TIME_EXPENSE","TIME_INCOME","includes","dot","filter","element","Number","slice","map"],"mappings":"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","sourcesContent":["import { React } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport style from \"./createCalendar.module.css\";\n\nconst DATE = new Date();\n\nconst MONTH = DATE.getMonth();\nconst TODAY = DATE.getDate();\n\nconst EXPENSE_DATA = [\n  {\n    category: \"expense\",\n    mainCate: \"food\",\n    subCate: \"breakfast\",\n    time: \"2021-08-01\",\n    description: \"Burger\",\n    money: \"50\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"clothing\",\n    subCate: \"t-shirt\",\n    time: \"2021-04-11\",\n    money: \"100\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"housing\",\n    subCate: \"bill\",\n    time: \"2021-10-23\",\n    money: \"500\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"transportation\",\n    subCate: \"bus\",\n    time: \"2021-02-15\",\n    description: \"Burger\",\n    money: \"10\",\n  },\n  {\n    category: \"income\",\n    mainCate: \"salary\",\n    subCate: \"salary\",\n    time: \"2021-09-13\",\n    money: \"3000\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"housing\",\n    subCate: \"bill\",\n    time: \"2021-09-08\",\n    money: \"500\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"food\",\n    subCate: \"dinner\",\n    time: \"2021-09-01\",\n    description: \"Burger\",\n    money: \"110\",\n  },\n  {\n    category: \"income\",\n    mainCate: \"stock\",\n    subCate: \"stock\",\n    time: \"2021-09-01\",\n    money: \"100\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"education\",\n    subCate: \"book\",\n    time: \"2021-09-11\",\n    money: \"50\",\n  },\n  {\n    category: \"income\",\n    mainCate: \"salary\",\n    subCate: \"salary\",\n    time: \"2021-09-18\",\n    money: \"1000\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"entertainment\",\n    subCate: \"video games\",\n    time: \"2021-09-23\",\n    description: \"Burger\",\n    money: \"110\",\n  },\n  {\n    category: \"income\",\n    mainCate: \"bonus\",\n    subCate: \"bonus\",\n    time: \"2021-09-12\",\n    money: \"500\",\n  },\n  {\n    category: \"expense\",\n    mainCate: \"food\",\n    subCate: \"BreakFast\",\n    time: \"2021-09-22\",\n    description: \"Burger\",\n    money: \"110\",\n  },\n  {\n    category: \"income\",\n    mainCate: \"others\",\n    subCate: \"others\",\n    time: \"2021-09-21\",\n    money: \"100\",\n  },\n];\n\nconst cacheObj = {};\n\nfunction createCalendar(date, { setModalShown }) {\n  const key = date.getFullYear() + \"\" + date.getMonth();\n\n  if (!cacheObj[key]) {\n    addCacheData(cacheObj, date, key);\n  }\n\n  const res = [];\n\n  function showModalHandler(e) {\n    console.log(e.target);\n    setModalShown(true);\n  }\n\n  // last day of current month\n  // 0 gives us the last day of previous month\n  // + 1 makes to be last day fo current month\n  // get date gives us the number type\n  const lastDay = new Date(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    0\n  ).getDate();\n\n  const prevLastDay = new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    0\n  ).getDate(); // last day of previous month\n\n  // last day of the week (current month)\n  const lastDayIndex = new Date(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    0\n  ).getDay();\n\n  // first day of the week (current month)\n  // const firstDayIndex = date.getDay();\n  const firstDayIndex = new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    1\n  ).getDay();\n\n  const nextDays = 7 - lastDayIndex - 1;\n\n  for (let i = firstDayIndex; i > 0; i--) {\n    res.push(\n      <div className={style.negative} key={uuidv4()}>\n        {prevLastDay - i + 1}\n      </div>\n    );\n  }\n\n  for (let i = 1; i <= lastDay; i++) {\n    if (i === TODAY && date.getMonth() === MONTH) {\n      res.push(\n        checkDot(i, true, cacheObj[key][0], cacheObj[key][1], showModalHandler)\n      );\n    } else\n      res.push(\n        checkDot(i, false, cacheObj[key][0], cacheObj[key][1], showModalHandler)\n      );\n  }\n\n  for (let i = 1; i <= nextDays; i++) {\n    res.push(\n      <div className={style.negative} key={uuidv4()}>\n        {i}\n      </div>\n    );\n  }\n\n  return res;\n}\n\nexport default createCalendar;\n\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////\nfunction checkDot(i, current, TIME_EXPENSE, TIME_INCOME, showModalHandler) {\n  if (TIME_EXPENSE.includes(i)) {\n    if (TIME_INCOME.includes(i)) {\n      return (\n        <div\n          onClick={showModalHandler}\n          className={current ? style.current : \"\"}\n          key={uuidv4()}\n        >\n          {i}\n          <div className={style[\"dot__container\"]}>\n            <span className={`${style[\"dot--blue\"]} ${style.dot}`}></span>\n            <span className={`${style[\"dot--pink\"]} ${style.dot}`}></span>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div\n          onClick={showModalHandler}\n          className={current ? style.current : \"\"}\n          key={uuidv4()}\n        >\n          {i}\n          <div className={style[\"dot__container\"]}>\n            <span className={`${style[\"dot--blue\"]} ${style.dot}`}></span>\n          </div>\n        </div>\n      );\n    }\n  } else if (TIME_INCOME.includes(i)) {\n    return (\n      <div\n        onClick={showModalHandler}\n        className={current ? style.current : \"\"}\n        key={uuidv4()}\n      >\n        {i}\n        <div className={style[\"dot__container\"]}>\n          <span className={`${style[\"dot--pink\"]} ${style.dot}`}></span>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div\n        onClick={showModalHandler}\n        className={current ? style.current : \"\"}\n        key={uuidv4()}\n      >\n        {i}\n      </div>\n    );\n  }\n}\n\nfunction addCacheData(cacheObj, date, key) {\n  cacheObj[key] = [];\n\n  const TIME_EXPENSE = EXPENSE_DATA.filter((element) => {\n    if (\n      Number(element.time.slice(0, 4)) === date.getFullYear() &&\n      Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n      element.category === \"expense\"\n    )\n      return true;\n  }).map((element) => Number(element.time.slice(8)));\n\n  cacheObj[key].push(TIME_EXPENSE);\n\n  const TIME_INCOME = EXPENSE_DATA.filter((element) => {\n    if (\n      Number(element.time.slice(0, 4)) === date.getFullYear() &&\n      Number(element.time.slice(5, 7)) === date.getMonth() + 1 &&\n      element.category === \"income\"\n    )\n      return true;\n  }).map((element) => Number(element.time.slice(8)));\n\n  cacheObj[key].push(TIME_INCOME);\n}\n"]},"metadata":{},"sourceType":"module"}