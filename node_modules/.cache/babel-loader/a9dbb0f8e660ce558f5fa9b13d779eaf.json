{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/components/UI/ExpenseItem/ExpenseItem.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useContext } from \"react\";\nimport BtnIcon from \"../BtnIcon/BtnIcon\";\nimport Button from \"../Button/Button\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport AddDataForm from \"../AddDataForm/AddDateForm\";\nimport DescriptionModal from \"../DescriptionModal/DescriptionModal\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport useAddDataForm from \"../../../Others/Custom/useAddDataForm\";\nimport { MdMoreVert } from \"react-icons/md\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport style from \"./ExpenseItem.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ExpenseItem(props) {\n  _s();\n\n  var _props$description, _props$description2;\n\n  const [btnMore, setBtnMore] = useState(false);\n  const [descriptionModal, setDescriptionModal] = useState(false);\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [addDataFrom, setAddDataForm] = useState({\n    show: false,\n    initialObj: {}\n  });\n  const [addDataFormModal, addDataFormModalToggler] = useAddDataForm();\n  const {\n    iconObj\n  } = useContext(CategoryContext);\n  const icon = iconObj[props.mainCate];\n  const deletedDataInfo = {\n    mainCate: props.mainCate,\n    subCate: props.subCate,\n    price: props.price,\n    time: props.time,\n    description: props.description\n  };\n\n  function btnMoreToggler() {\n    setBtnMore(prev => !prev);\n  }\n\n  function showDeleteModalHandler() {\n    setDeleteModal(true);\n  }\n\n  function showAddDataFormHandler() {\n    const initialObj = {\n      id: props.id,\n      category: props.category,\n      mainCategoryArr: [],\n      mainCategory: props.mainCate,\n      subCategoryArr: [],\n      subCategory: props.subCate,\n      date: props.time,\n      description: props.description,\n      price: props.price,\n      isValid: true\n    };\n    setAddDataForm({\n      show: true,\n      initialObj\n    });\n  }\n\n  function closeAddDataFormHandlerExpenseItem() {\n    setAddDataForm({\n      show: false,\n      initialObj: {}\n    });\n  }\n\n  function descriptionModalToggler(e) {\n    /*\n    We put this function on every single description\n    but we don't wanna trigger for every description, we only want to show the description modal when the description is too long\n     The logic is we only want to trigger that useState set method when\n    1) descriptionModal is true, which means it's gonna close the modal\n    2) e.target.dataset.id is true\n       e.target.dataset.id is equal to variabe longIndex, which keep track if the description is too long (see below)\n       (Note e.target.dataset.id represenat as string)\n    */\n    if (descriptionModal) setDescriptionModal(prev => !prev);else if (e.target.dataset.id === \"true\") setDescriptionModal(prev => !prev);\n  }\n\n  const classMainCate = props.category === \"expense\" ? `${style[\"item__category--blue\"]}` : `${style[\"item__category--pink\"]}`;\n  const limitedLength = props.modal ? 13 : 40;\n  const longLengthClassName = ((_props$description = props.description) === null || _props$description === void 0 ? void 0 : _props$description.length) > limitedLength ? \"item__description--long\" : \"\";\n  const longIndex = longLengthClassName.length > 0;\n  let editedDescription = props.description && props.description.length > limitedLength ? props.description.slice(0, limitedLength).padEnd(limitedLength + 3, \".\") : props.description; // shorten the description after user clicking the btn(more)\n\n  if (props.description && ((_props$description2 = props.description) === null || _props$description2 === void 0 ? void 0 : _props$description2.length) > limitedLength - 10 && btnMore) editedDescription = props.description.slice(0, limitedLength - 18).padEnd(limitedLength - 14, \".\");\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [deleteModal && /*#__PURE__*/_jsxDEV(DeleteModal // expenseDataModal={props.expenseDataModal} (not sure what this is about)\n    , {\n      expenseListCalendar: props.expenseListCalendar,\n      id: props.id,\n      setDeleteModal: setDeleteModal,\n      setExpenseListCalendar: props.setExpenseListCalendar,\n      dataInfo: deletedDataInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), addDataFrom.show && /*#__PURE__*/_jsxDEV(AddDataForm, {\n      initialObj: addDataFrom.initialObj,\n      closeAddDataFormHandlerExpenseItem: closeAddDataFormHandlerExpenseItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), descriptionModal && /*#__PURE__*/_jsxDEV(DescriptionModal, {\n      descriptionModalToggler: descriptionModalToggler,\n      children: props.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: style.item,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"item__info\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          title: props.mainCate,\n          className: `${style[\"item__category\"]} ${classMainCate} center--flex`,\n          children: icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"capitalize\",\n            children: props.subCate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: style[\"item__time\"],\n            children: props.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-id\": longIndex,\n          onClick: descriptionModalToggler,\n          className: longIndex ? `${style[\"item__description\"]} ${style[longLengthClassName]}` : `${style[\"item__description\"]}`,\n          children: editedDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), longIndex && /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-id\": longIndex,\n          onClick: descriptionModalToggler,\n          className: style[\"description__text\"],\n          children: \"click to show description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: style[\"item__price\"],\n          children: [\"$\", props.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), !props.inDeleteSection && btnMore && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style[\"btn__container\"],\n          children: [/*#__PURE__*/_jsxDEV(BtnIcon, {\n            onClick: showDeleteModalHandler,\n            classBtn: style[\"btn__icon\"],\n            text: \"delete\",\n            children: /*#__PURE__*/_jsxDEV(AiFillDelete, {\n              className: style.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.vertical\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BtnIcon, {\n            onClick: showAddDataFormHandler,\n            classBtn: style[\"btn__icon\"],\n            text: \"edit\",\n            children: /*#__PURE__*/_jsxDEV(AiFillEdit, {\n              className: style.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), !props.inDeleteSection && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: btnMoreToggler,\n          type: \"button\",\n          className: style[\"btn__more\"],\n          children: /*#__PURE__*/_jsxDEV(MdMoreVert, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ExpenseItem, \"XDeSNI/110uVx/099TG1CVGiMiM=\", false, function () {\n  return [useAddDataForm];\n});\n\n_c = ExpenseItem;\nexport default ExpenseItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpenseItem\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/components/UI/ExpenseItem/ExpenseItem.js"],"names":["Fragment","useState","useContext","BtnIcon","Button","DeleteModal","AddDataForm","DescriptionModal","CategoryContext","useAddDataForm","MdMoreVert","AiFillDelete","AiFillEdit","style","ExpenseItem","props","btnMore","setBtnMore","descriptionModal","setDescriptionModal","deleteModal","setDeleteModal","addDataFrom","setAddDataForm","show","initialObj","addDataFormModal","addDataFormModalToggler","iconObj","icon","mainCate","deletedDataInfo","subCate","price","time","description","btnMoreToggler","prev","showDeleteModalHandler","showAddDataFormHandler","id","category","mainCategoryArr","mainCategory","subCategoryArr","subCategory","date","isValid","closeAddDataFormHandlerExpenseItem","descriptionModalToggler","e","target","dataset","classMainCate","limitedLength","modal","longLengthClassName","length","longIndex","editedDescription","slice","padEnd","expenseListCalendar","setExpenseListCalendar","item","inDeleteSection","vertical"],"mappings":"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","sourcesContent":["import { Fragment, useState, useContext } from \"react\";\nimport BtnIcon from \"../BtnIcon/BtnIcon\";\nimport Button from \"../Button/Button\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport AddDataForm from \"../AddDataForm/AddDateForm\";\nimport DescriptionModal from \"../DescriptionModal/DescriptionModal\";\nimport CategoryContext from \"../../../store/category/category--context\";\nimport useAddDataForm from \"../../../Others/Custom/useAddDataForm\";\nimport { MdMoreVert } from \"react-icons/md\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport style from \"./ExpenseItem.module.css\";\n\nfunction ExpenseItem(props) {\n  const [btnMore, setBtnMore] = useState(false);\n  const [descriptionModal, setDescriptionModal] = useState(false);\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [addDataFrom, setAddDataForm] = useState({\n    show: false,\n    initialObj: {},\n  });\n  const [addDataFormModal, addDataFormModalToggler] = useAddDataForm();\n  const { iconObj } = useContext(CategoryContext);\n  const icon = iconObj[props.mainCate];\n\n  const deletedDataInfo = {\n    mainCate: props.mainCate,\n    subCate: props.subCate,\n    price: props.price,\n    time: props.time,\n    description: props.description,\n  };\n\n  function btnMoreToggler() {\n    setBtnMore((prev) => !prev);\n  }\n\n  function showDeleteModalHandler() {\n    setDeleteModal(true);\n  }\n\n  function showAddDataFormHandler() {\n    const initialObj = {\n      id: props.id,\n      category: props.category,\n      mainCategoryArr: [],\n      mainCategory: props.mainCate,\n      subCategoryArr: [],\n      subCategory: props.subCate,\n      date: props.time,\n      description: props.description,\n      price: props.price,\n      isValid: true,\n    };\n\n    setAddDataForm({ show: true, initialObj });\n  }\n\n  function closeAddDataFormHandlerExpenseItem() {\n    setAddDataForm({ show: false, initialObj: {} });\n  }\n\n  function descriptionModalToggler(e) {\n    /*\n    We put this function on every single description\n    but we don't wanna trigger for every description, we only want to show the description modal when the description is too long\n\n    The logic is we only want to trigger that useState set method when\n    1) descriptionModal is true, which means it's gonna close the modal\n    2) e.target.dataset.id is true\n       e.target.dataset.id is equal to variabe longIndex, which keep track if the description is too long (see below)\n       (Note e.target.dataset.id represenat as string)\n    */\n    if (descriptionModal) setDescriptionModal((prev) => !prev);\n    else if (e.target.dataset.id === \"true\")\n      setDescriptionModal((prev) => !prev);\n  }\n\n  const classMainCate =\n    props.category === \"expense\"\n      ? `${style[\"item__category--blue\"]}`\n      : `${style[\"item__category--pink\"]}`;\n\n  const limitedLength = props.modal ? 13 : 40;\n  const longLengthClassName =\n    props.description?.length > limitedLength ? \"item__description--long\" : \"\";\n  const longIndex = longLengthClassName.length > 0;\n\n  let editedDescription =\n    props.description && props.description.length > limitedLength\n      ? props.description.slice(0, limitedLength).padEnd(limitedLength + 3, \".\")\n      : props.description;\n\n  // shorten the description after user clicking the btn(more)\n  if (\n    props.description &&\n    props.description?.length > limitedLength - 10 &&\n    btnMore\n  )\n    editedDescription = props.description\n      .slice(0, limitedLength - 18)\n      .padEnd(limitedLength - 14, \".\");\n\n  return (\n    <Fragment>\n      {deleteModal && (\n        <DeleteModal\n          // expenseDataModal={props.expenseDataModal} (not sure what this is about)\n          expenseListCalendar={props.expenseListCalendar}\n          id={props.id}\n          setDeleteModal={setDeleteModal}\n          setExpenseListCalendar={props.setExpenseListCalendar}\n          dataInfo={deletedDataInfo}\n        />\n      )}\n      {addDataFrom.show && (\n        <AddDataForm\n          initialObj={addDataFrom.initialObj}\n          closeAddDataFormHandlerExpenseItem={\n            closeAddDataFormHandlerExpenseItem\n          }\n        />\n      )}\n      {descriptionModal && (\n        <DescriptionModal descriptionModalToggler={descriptionModalToggler}>\n          {props.description}\n        </DescriptionModal>\n      )}\n\n      <li className={style.item}>\n        <div className={style[\"item__info\"]}>\n          <div\n            title={props.mainCate}\n            className={`${style[\"item__category\"]} ${classMainCate} center--flex`}\n          >\n            {icon}\n          </div>\n          <div>\n            <p className=\"capitalize\">{props.subCate}</p>\n            <p className={style[\"item__time\"]}>{props.time}</p>\n          </div>\n          <p\n            data-id={longIndex}\n            onClick={descriptionModalToggler}\n            className={\n              longIndex\n                ? `${style[\"item__description\"]} ${style[longLengthClassName]}`\n                : `${style[\"item__description\"]}`\n            }\n          >\n            {editedDescription}\n          </p>\n          {longIndex && (\n            <p\n              data-id={longIndex}\n              onClick={descriptionModalToggler}\n              className={style[\"description__text\"]}\n            >\n              click to show description\n            </p>\n          )}\n        </div>\n\n        <div>\n          <p className={style[\"item__price\"]}>${props.price}</p>\n\n          {/* \n          Note that here and below\n          we only want to show \"more\", \"delete\", \"edit\" button and functionality when the expense list item do NOT in the delete section \n          */}\n          {!props.inDeleteSection && btnMore && (\n            <div className={style[\"btn__container\"]}>\n              <BtnIcon\n                onClick={showDeleteModalHandler}\n                classBtn={style[\"btn__icon\"]}\n                text=\"delete\"\n              >\n                <AiFillDelete className={style.icon} />\n              </BtnIcon>\n              <span className={style.vertical} />\n              <BtnIcon\n                onClick={showAddDataFormHandler}\n                classBtn={style[\"btn__icon\"]}\n                text=\"edit\"\n              >\n                <AiFillEdit className={style.icon} />\n              </BtnIcon>\n            </div>\n          )}\n          {!props.inDeleteSection && (\n            <Button\n              onClick={btnMoreToggler}\n              type=\"button\"\n              className={style[\"btn__more\"]}\n            >\n              <MdMoreVert />\n            </Button>\n          )}\n        </div>\n      </li>\n    </Fragment>\n  );\n}\n\nexport default ExpenseItem;\n"]},"metadata":{},"sourceType":"module"}