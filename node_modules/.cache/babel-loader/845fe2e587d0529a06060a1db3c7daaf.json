{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Setting/SettingContent/SettingCategory/SettingCategory.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useReducer, Fragment, useEffect } from \"react\";\nimport CategoryContext from \"../../../../../store/category/category--context\";\nimport InputRadio from \"../../../../UI/InputRadio/InputRadio\";\nimport Button from \"../../../../UI/Button\";\nimport AddMainCategoryModal from \"../../../../UI/AddMainCategoryModal/AddMainCategoryModal\";\nimport AddingSubCategoryModal from \"../../../../UI/AddingSubCategoryModal/AddingSubCategoryModal\";\nimport DeleteCategoryModal from \"../../../../UI/DeleteCategoryModal/DeleteCategoryModal\";\nimport style from \"./SettingCategory.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet expenseObj, incomeObj;\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"FIRST_CATEGORY\":\n      {\n        let mainCategoryArr, subCategoryArr, mainCategory;\n\n        if (action.value === \"expense\") {\n          const expenseKeyArr = Object.keys(expenseObj);\n          mainCategoryArr = expenseKeyArr;\n          subCategoryArr = expenseObj[expenseKeyArr[0]];\n          mainCategory = expenseKeyArr[0];\n        } else {\n          const incomeKeyArr = Object.keys(incomeObj);\n          mainCategoryArr = incomeKeyArr;\n          subCategoryArr = incomeObj[incomeKeyArr[0]];\n          mainCategory = incomeKeyArr[0];\n        }\n\n        return { ...state,\n          category: action.value,\n          mainCategoryArr,\n          subCategoryArr,\n          mainCategory,\n          // whenever use change the category, the removing state should be canceled\n          removeMain: false,\n          removeSub: false\n        };\n      }\n\n    case \"MAIN_CATEGORY\":\n      {\n        let subCategoryArr;\n        if (state.category === \"expense\") subCategoryArr = expenseObj[action.value];else subCategoryArr = incomeObj[action.value];\n        return { ...state,\n          subCategoryArr,\n          mainCategory: action.value\n        };\n      }\n\n    case \"REMOVE_MAIN_CATEGORY_STATE\":\n      {\n        return { ...state,\n          removeMain: !state.removeMain\n        };\n      }\n\n    case \"REMOVE_SUB_CATEGORY_STATE\":\n      {\n        return { ...state,\n          removeSub: !state.removeSub\n        };\n      }\n\n    case \"REMOVE_MAIN_CATEGORY\":\n      {\n        const mainCategoryArr = state.mainCategoryArr.filter(element => element !== action.value);\n        return { ...state,\n          mainCategoryArr\n        };\n      }\n\n    case \"REMOVE_SUB_CATEGORY\":\n      {\n        const subCategoryArr = state.subCategoryArr.filter(element => element !== action.value);\n        return { ...state,\n          subCategoryArr\n        };\n      }\n\n    case \"ADD_MAIN_CATEGORY_STATE\":\n      {\n        return { ...state,\n          addMainCategoryModal: !state.addMainCategoryModal\n        };\n      }\n\n    case \"ADD_SUB_CATEGORY_STATE\":\n      {\n        return { ...state,\n          addSubCategoryModal: !state.addSubCategoryModal\n        };\n      }\n\n    case \"ADD_MAIN_CATEGORY\":\n      {\n        const mainCategoryArr = state.mainCategoryArr.concat(action.value);\n        return { ...state,\n          mainCategoryArr\n        };\n      }\n\n    case \"ADD_SUB_CATEGORY\":\n      {\n        const subCategoryArr = state.subCategoryArr.concat(action.value);\n        return { ...state,\n          subCategoryArr\n        };\n      }\n\n    case \"DELETE_CATEGORY_MODAL\":\n      {\n        return { ...state,\n          deleteCategoryModal: !state.deleteCategoryModal,\n          clickingCategoryForDelete: action.value\n        };\n      }\n\n    case \"DELETE_CATEGORY\":\n      {\n        // main category\n        if (state.mainCategoryArr.includes(action.value)) {\n          const mainCategoryArr = state.mainCategoryArr.filter(element => element !== action.value);\n          const isSame = state.mainCategory === state.clickingCategoryForDelete;\n          return { ...state,\n            mainCategoryArr,\n            mainCategory: isSame ? mainCategoryArr[0] : state.mainCategory,\n            subCategoryArr: isSame ? expenseObj[mainCategoryArr[0]] : state.subCategoryArr\n          };\n        } // sub category\n        else {\n          const subCategoryArr = state.subCategoryArr.filter(element => element !== action.value);\n          return { ...state,\n            subCategoryArr\n          };\n        }\n      }\n\n    case \"CLOSE_DELETE_MODAL\":\n      {\n        return { ...state,\n          deleteCategoryModal: !state.deleteCategoryModal\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction SettingCategory(props) {\n  _s();\n\n  const {\n    categoryExpense,\n    categoryIncome,\n    removeMainCategory,\n    removeSubCategory\n  } = useContext(CategoryContext);\n  const [categoryState, categoryStateDispatch] = useReducer(reducer, {\n    category: \"expense\",\n    mainCategory: Object.keys(categoryExpense)[0],\n    mainCategoryArr: Object.keys(categoryExpense),\n    subCategory: categoryExpense[Object.keys(categoryExpense)[0]][0],\n    subCategoryArr: categoryExpense[Object.keys(categoryExpense)[0]],\n    removeMain: false,\n    removeSub: false,\n    addMainCategoryModal: false,\n    addSubCategoryModal: false,\n    deleteCategoryModal: false,\n    clickingCategoryForDelete: \"\"\n  }); // let these variables connect with object because they are used in reducer function\n\n  expenseObj = categoryExpense;\n  incomeObj = categoryIncome;\n  const mainDataContent = categoryState.mainCategoryArr.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.data}  ${element === categoryState.mainCategory ? categoryState.category === \"expense\" ? style[\"data--active--expense\"] : style[\"data--active--income\"] : \"\"} ${categoryState.removeMain && style[\"data--remove\"]}`,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: mainCategoryClickHandler,\n      children: element\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), categoryState.removeMain && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: deleteIconClickHandler,\n        className: style[\"btn--remove\"],\n        type: \"button\",\n        dataID: element,\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)]\n  }, element, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this));\n  const subDataContent = categoryState.subCategoryArr.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.data}  ${categoryState.removeSub && style[\"data--remove\"]} `,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: element\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), categoryState.removeSub && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: deleteIconClickHandler,\n        className: style[\"btn--remove\"],\n        type: \"button\",\n        dataID: element,\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)]\n  }, element, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this)); // expense & income\n\n  function categoryChangeHandler(e) {\n    categoryStateDispatch({\n      type: \"FIRST_CATEGORY\",\n      value: e.target.value\n    });\n  } // based on main categoey, show the corresponding sub category\n\n\n  function mainCategoryClickHandler(e) {\n    categoryStateDispatch({\n      type: \"MAIN_CATEGORY\",\n      value: e.target.textContent\n    });\n  }\n\n  function removeBtnMainCategoryStateClickHandler() {\n    categoryStateDispatch({\n      type: \"REMOVE_MAIN_CATEGORY_STATE\"\n    });\n  }\n\n  function removeBtnSubCategoryStateClickHandler() {\n    categoryStateDispatch({\n      type: \"REMOVE_SUB_CATEGORY_STATE\"\n    });\n  } // function removeIconMainCategoryClickHandler(e) {\n  //   removeMainCategory(e.target.dataset.id, categoryState.category);\n  //   categoryStateDispatch({\n  //     type: \"REMOVE_MAIN_CATEGORY\",\n  //     value: e.target.dataset.id,\n  //   });\n  //   categoryStateDispatch({\n  //     type: \"DELETE_CATEGORY_MODAL\",\n  //     value: e?.target.dataset.id,\n  //   });\n  // }\n  // function removeIconSubCategoryClickHandler(e) {\n  // removeSubCategory(\n  //   e.target.dataset.id,\n  //   categoryState.category,\n  //   categoryState.mainCategory\n  // );\n  // categoryStateDispatch({\n  //   type: \"REMOVE_SUB_CATEGORY\",\n  //   value: e.target.dataset.id,\n  // });\n  //   categoryStateDispatch({\n  //     type: \"DELETE_CATEGORY_MODAL\",\n  //     value: e.target.dataset.id,\n  //   });\n  // }\n\n\n  function deleteIconClickHandler(e) {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY_MODAL\",\n      value: e.target.dataset.id\n    });\n  }\n\n  function deleteCategory() {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY\",\n      value: categoryState.clickingCategoryForDelete\n    }); // main category\n\n    if (categoryState.mainCategoryArr.includes(categoryState.clickingCategoryForDelete)) removeMainCategory(categoryState.clickingCategoryForDelete, categoryState.category); // sub category\n    else removeSubCategory(categoryState.clickingCategoryForDelete, categoryState.category, categoryState.mainCategory);\n  }\n\n  function closeDeleteModal() {\n    categoryStateDispatch({\n      type: \"CLOSE_DELETE_MODAL\"\n    });\n  }\n  /*\n  These two functions do two things respectively\n  1) toggle the adding main or sub categeory modal state\n     (show and close the modal)\n  2) add the category \n     (this will only invoke when there's value which is the name of new category)\n  */\n\n\n  function addMainCategoryAndModal(e, value) {\n    categoryStateDispatch({\n      type: \"ADD_MAIN_CATEGORY_STATE\"\n    });\n    if (value) categoryStateDispatch({\n      type: \"ADD_MAIN_CATEGORY\",\n      value\n    });\n  }\n\n  function addSubCategoryAndModal(e, value) {\n    categoryStateDispatch({\n      type: \"ADD_SUB_CATEGORY_STATE\"\n    });\n    if (value) categoryStateDispatch({\n      type: \"ADD_SUB_CATEGORY\",\n      value\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [categoryState.addMainCategoryModal && /*#__PURE__*/_jsxDEV(AddMainCategoryModal, {\n      category: categoryState.category,\n      addMainCategoryAndModal: addMainCategoryAndModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }, this), categoryState.addSubCategoryModal && /*#__PURE__*/_jsxDEV(AddingSubCategoryModal, {\n      category: categoryState.category,\n      mainCategory: categoryState.mainCategory,\n      addSubCategoryAndModal: addSubCategoryAndModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }, this), categoryState.deleteCategoryModal && /*#__PURE__*/_jsxDEV(DeleteCategoryModal, {\n      category: categoryState.category,\n      clickingCategoryForDelete: categoryState.clickingCategoryForDelete,\n      mainCategoryArr: categoryState.mainCategoryArr,\n      subCategoryArr: categoryState.subCategoryArr,\n      deleteCategory: deleteCategory,\n      closeDeleteModal: closeDeleteModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"form__list\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.category,\n          children: [/*#__PURE__*/_jsxDEV(InputRadio, {\n            classContainer: style[\"radio__container\"],\n            classInput: style.input,\n            classLabel: `${style.labelBlue} ${style.label}`,\n            classCheck: style.check,\n            id: \"expense\",\n            name: \"category\",\n            value: \"expense\",\n            label: \"expense\",\n            checked: categoryState.category === \"expense\",\n            onChange: categoryChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputRadio, {\n            classContainer: style[\"radio__container\"],\n            classInput: style.input,\n            classLabel: `${style.labelPink} ${style.label}`,\n            classCheck: style.check,\n            id: \"income\",\n            name: \"category\",\n            value: \"income\",\n            label: \"income\",\n            checked: categoryState.category === \"income\",\n            onChange: categoryChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"subtitle__container\"],\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: style.subtitle,\n              children: \"main category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"data__container\"],\n            children: mainDataContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"btn__container\"],\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: removeBtnMainCategoryStateClickHandler,\n              type: \"button\",\n              className: style.btn,\n              children: \"remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addMainCategoryAndModal,\n              type: \"button\",\n              className: style.btn,\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"subtitle__container\"],\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: style.subtitle,\n              children: \"sub category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"data__container\"],\n            children: subDataContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"btn__container\"],\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: removeBtnSubCategoryStateClickHandler,\n              type: \"button\",\n              className: style.btn,\n              children: \"remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addSubCategoryAndModal,\n              type: \"button\",\n              className: style.btn,\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 334,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SettingCategory, \"UfHTq3S1fFsXChMhN/DGdzAKi7o=\");\n\n_c = SettingCategory;\nexport default SettingCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingCategory\");","map":{"version":3,"sources":["/Users/eyo/Desktop/project-expenseTracker-main/src/components/MainContent/Setting/SettingContent/SettingCategory/SettingCategory.js"],"names":["useState","useContext","useReducer","Fragment","useEffect","CategoryContext","InputRadio","Button","AddMainCategoryModal","AddingSubCategoryModal","DeleteCategoryModal","style","expenseObj","incomeObj","reducer","state","action","type","mainCategoryArr","subCategoryArr","mainCategory","value","expenseKeyArr","Object","keys","incomeKeyArr","category","removeMain","removeSub","filter","element","addMainCategoryModal","addSubCategoryModal","concat","deleteCategoryModal","clickingCategoryForDelete","includes","isSame","SettingCategory","props","categoryExpense","categoryIncome","removeMainCategory","removeSubCategory","categoryState","categoryStateDispatch","subCategory","mainDataContent","map","data","mainCategoryClickHandler","deleteIconClickHandler","subDataContent","categoryChangeHandler","e","target","textContent","removeBtnMainCategoryStateClickHandler","removeBtnSubCategoryStateClickHandler","dataset","id","deleteCategory","closeDeleteModal","addMainCategoryAndModal","addSubCategoryAndModal","form","input","labelBlue","label","check","labelPink","container","subtitle","btn"],"mappings":"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","sourcesContent":["import { useState, useContext, useReducer, Fragment, useEffect } from \"react\";\nimport CategoryContext from \"../../../../../store/category/category--context\";\nimport InputRadio from \"../../../../UI/InputRadio/InputRadio\";\nimport Button from \"../../../../UI/Button\";\nimport AddMainCategoryModal from \"../../../../UI/AddMainCategoryModal/AddMainCategoryModal\";\nimport AddingSubCategoryModal from \"../../../../UI/AddingSubCategoryModal/AddingSubCategoryModal\";\nimport DeleteCategoryModal from \"../../../../UI/DeleteCategoryModal/DeleteCategoryModal\";\nimport style from \"./SettingCategory.module.css\";\n\nlet expenseObj, incomeObj;\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"FIRST_CATEGORY\": {\n      let mainCategoryArr, subCategoryArr, mainCategory;\n\n      if (action.value === \"expense\") {\n        const expenseKeyArr = Object.keys(expenseObj);\n\n        mainCategoryArr = expenseKeyArr;\n        subCategoryArr = expenseObj[expenseKeyArr[0]];\n        mainCategory = expenseKeyArr[0];\n      } else {\n        const incomeKeyArr = Object.keys(incomeObj);\n\n        mainCategoryArr = incomeKeyArr;\n        subCategoryArr = incomeObj[incomeKeyArr[0]];\n        mainCategory = incomeKeyArr[0];\n      }\n\n      return {\n        ...state,\n        category: action.value,\n        mainCategoryArr,\n        subCategoryArr,\n        mainCategory,\n\n        // whenever use change the category, the removing state should be canceled\n        removeMain: false,\n        removeSub: false,\n      };\n    }\n\n    case \"MAIN_CATEGORY\": {\n      let subCategoryArr;\n\n      if (state.category === \"expense\")\n        subCategoryArr = expenseObj[action.value];\n      else subCategoryArr = incomeObj[action.value];\n\n      return { ...state, subCategoryArr, mainCategory: action.value };\n    }\n\n    case \"REMOVE_MAIN_CATEGORY_STATE\": {\n      return { ...state, removeMain: !state.removeMain };\n    }\n\n    case \"REMOVE_SUB_CATEGORY_STATE\": {\n      return { ...state, removeSub: !state.removeSub };\n    }\n\n    case \"REMOVE_MAIN_CATEGORY\": {\n      const mainCategoryArr = state.mainCategoryArr.filter(\n        (element) => element !== action.value\n      );\n\n      return { ...state, mainCategoryArr };\n    }\n\n    case \"REMOVE_SUB_CATEGORY\": {\n      const subCategoryArr = state.subCategoryArr.filter(\n        (element) => element !== action.value\n      );\n\n      return { ...state, subCategoryArr };\n    }\n\n    case \"ADD_MAIN_CATEGORY_STATE\": {\n      return { ...state, addMainCategoryModal: !state.addMainCategoryModal };\n    }\n\n    case \"ADD_SUB_CATEGORY_STATE\": {\n      return { ...state, addSubCategoryModal: !state.addSubCategoryModal };\n    }\n\n    case \"ADD_MAIN_CATEGORY\": {\n      const mainCategoryArr = state.mainCategoryArr.concat(action.value);\n\n      return { ...state, mainCategoryArr };\n    }\n\n    case \"ADD_SUB_CATEGORY\": {\n      const subCategoryArr = state.subCategoryArr.concat(action.value);\n\n      return { ...state, subCategoryArr };\n    }\n\n    case \"DELETE_CATEGORY_MODAL\": {\n      return {\n        ...state,\n        deleteCategoryModal: !state.deleteCategoryModal,\n        clickingCategoryForDelete: action.value,\n      };\n    }\n\n    case \"DELETE_CATEGORY\": {\n      // main category\n      if (state.mainCategoryArr.includes(action.value)) {\n        const mainCategoryArr = state.mainCategoryArr.filter(\n          (element) => element !== action.value\n        );\n\n        const isSame = state.mainCategory === state.clickingCategoryForDelete;\n\n        return {\n          ...state,\n          mainCategoryArr,\n          mainCategory: isSame ? mainCategoryArr[0] : state.mainCategory,\n          subCategoryArr: isSame\n            ? expenseObj[mainCategoryArr[0]]\n            : state.subCategoryArr,\n        };\n      }\n      // sub category\n      else {\n        const subCategoryArr = state.subCategoryArr.filter(\n          (element) => element !== action.value\n        );\n\n        return {\n          ...state,\n          subCategoryArr,\n        };\n      }\n    }\n\n    case \"CLOSE_DELETE_MODAL\": {\n      return { ...state, deleteCategoryModal: !state.deleteCategoryModal };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction SettingCategory(props) {\n  const {\n    categoryExpense,\n    categoryIncome,\n    removeMainCategory,\n    removeSubCategory,\n  } = useContext(CategoryContext);\n  const [categoryState, categoryStateDispatch] = useReducer(reducer, {\n    category: \"expense\",\n    mainCategory: Object.keys(categoryExpense)[0],\n    mainCategoryArr: Object.keys(categoryExpense),\n    subCategory: categoryExpense[Object.keys(categoryExpense)[0]][0],\n    subCategoryArr: categoryExpense[Object.keys(categoryExpense)[0]],\n    removeMain: false,\n    removeSub: false,\n    addMainCategoryModal: false,\n    addSubCategoryModal: false,\n    deleteCategoryModal: false,\n    clickingCategoryForDelete: \"\",\n  });\n\n  // let these variables connect with object because they are used in reducer function\n  expenseObj = categoryExpense;\n  incomeObj = categoryIncome;\n\n  const mainDataContent = categoryState.mainCategoryArr.map((element) => (\n    <div\n      className={`${style.data}  ${\n        element === categoryState.mainCategory\n          ? categoryState.category === \"expense\"\n            ? style[\"data--active--expense\"]\n            : style[\"data--active--income\"]\n          : \"\"\n      } ${categoryState.removeMain && style[\"data--remove\"]}`}\n      key={element}\n    >\n      <span onClick={mainCategoryClickHandler}>{element}</span>\n      {categoryState.removeMain && (\n        <span>\n          <Button\n            onClick={deleteIconClickHandler}\n            className={style[\"btn--remove\"]}\n            type=\"button\"\n            dataID={element}\n          >\n            x\n          </Button>\n        </span>\n      )}\n    </div>\n  ));\n\n  const subDataContent = categoryState.subCategoryArr.map((element) => (\n    <div\n      className={`${style.data}  ${\n        categoryState.removeSub && style[\"data--remove\"]\n      } `}\n      key={element}\n    >\n      <span>{element}</span>\n      {categoryState.removeSub && (\n        <span>\n          <Button\n            onClick={deleteIconClickHandler}\n            className={style[\"btn--remove\"]}\n            type=\"button\"\n            dataID={element}\n          >\n            x\n          </Button>\n        </span>\n      )}\n    </div>\n  ));\n\n  // expense & income\n  function categoryChangeHandler(e) {\n    categoryStateDispatch({ type: \"FIRST_CATEGORY\", value: e.target.value });\n  }\n\n  // based on main categoey, show the corresponding sub category\n  function mainCategoryClickHandler(e) {\n    categoryStateDispatch({\n      type: \"MAIN_CATEGORY\",\n      value: e.target.textContent,\n    });\n  }\n\n  function removeBtnMainCategoryStateClickHandler() {\n    categoryStateDispatch({\n      type: \"REMOVE_MAIN_CATEGORY_STATE\",\n    });\n  }\n\n  function removeBtnSubCategoryStateClickHandler() {\n    categoryStateDispatch({\n      type: \"REMOVE_SUB_CATEGORY_STATE\",\n    });\n  }\n\n  // function removeIconMainCategoryClickHandler(e) {\n  //   removeMainCategory(e.target.dataset.id, categoryState.category);\n  //   categoryStateDispatch({\n  //     type: \"REMOVE_MAIN_CATEGORY\",\n  //     value: e.target.dataset.id,\n  //   });\n  //   categoryStateDispatch({\n  //     type: \"DELETE_CATEGORY_MODAL\",\n  //     value: e?.target.dataset.id,\n  //   });\n  // }\n\n  // function removeIconSubCategoryClickHandler(e) {\n  // removeSubCategory(\n  //   e.target.dataset.id,\n  //   categoryState.category,\n  //   categoryState.mainCategory\n  // );\n  // categoryStateDispatch({\n  //   type: \"REMOVE_SUB_CATEGORY\",\n  //   value: e.target.dataset.id,\n  // });\n\n  //   categoryStateDispatch({\n  //     type: \"DELETE_CATEGORY_MODAL\",\n  //     value: e.target.dataset.id,\n  //   });\n  // }\n\n  function deleteIconClickHandler(e) {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY_MODAL\",\n      value: e.target.dataset.id,\n    });\n  }\n\n  function deleteCategory() {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY\",\n      value: categoryState.clickingCategoryForDelete,\n    });\n\n    // main category\n    if (\n      categoryState.mainCategoryArr.includes(\n        categoryState.clickingCategoryForDelete\n      )\n    )\n      removeMainCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category\n      );\n    // sub category\n    else\n      removeSubCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category,\n        categoryState.mainCategory\n      );\n  }\n\n  function closeDeleteModal() {\n    categoryStateDispatch({\n      type: \"CLOSE_DELETE_MODAL\",\n    });\n  }\n\n  /*\n  These two functions do two things respectively\n  1) toggle the adding main or sub categeory modal state\n     (show and close the modal)\n  2) add the category \n     (this will only invoke when there's value which is the name of new category)\n  */\n  function addMainCategoryAndModal(e, value) {\n    categoryStateDispatch({ type: \"ADD_MAIN_CATEGORY_STATE\" });\n\n    if (value) categoryStateDispatch({ type: \"ADD_MAIN_CATEGORY\", value });\n  }\n\n  function addSubCategoryAndModal(e, value) {\n    categoryStateDispatch({ type: \"ADD_SUB_CATEGORY_STATE\" });\n\n    if (value) categoryStateDispatch({ type: \"ADD_SUB_CATEGORY\", value });\n  }\n\n  return (\n    <Fragment>\n      {categoryState.addMainCategoryModal && (\n        <AddMainCategoryModal\n          category={categoryState.category}\n          addMainCategoryAndModal={addMainCategoryAndModal}\n        />\n      )}\n      {categoryState.addSubCategoryModal && (\n        <AddingSubCategoryModal\n          category={categoryState.category}\n          mainCategory={categoryState.mainCategory}\n          addSubCategoryAndModal={addSubCategoryAndModal}\n        />\n      )}\n      {categoryState.deleteCategoryModal && (\n        <DeleteCategoryModal\n          category={categoryState.category}\n          clickingCategoryForDelete={categoryState.clickingCategoryForDelete}\n          mainCategoryArr={categoryState.mainCategoryArr}\n          subCategoryArr={categoryState.subCategoryArr}\n          deleteCategory={deleteCategory}\n          closeDeleteModal={closeDeleteModal}\n        />\n      )}\n      <form className={style.form}>\n        <div className={style[\"form__list\"]}>\n          <div className={style.category}>\n            <InputRadio\n              classContainer={style[\"radio__container\"]}\n              classInput={style.input}\n              classLabel={`${style.labelBlue} ${style.label}`}\n              classCheck={style.check}\n              id=\"expense\"\n              name=\"category\"\n              value=\"expense\"\n              label=\"expense\"\n              checked={categoryState.category === \"expense\"}\n              onChange={categoryChangeHandler}\n            />\n            <InputRadio\n              classContainer={style[\"radio__container\"]}\n              classInput={style.input}\n              classLabel={`${style.labelPink} ${style.label}`}\n              classCheck={style.check}\n              id=\"income\"\n              name=\"category\"\n              value=\"income\"\n              label=\"income\"\n              checked={categoryState.category === \"income\"}\n              onChange={categoryChangeHandler}\n            />\n          </div>\n          <div className={style.container}>\n            <div className={style[\"subtitle__container\"]}>\n              <p className={style.subtitle}>main category</p>\n            </div>\n            <div className={style[\"data__container\"]}>{mainDataContent}</div>\n            <div className={style[\"btn__container\"]}>\n              <Button\n                onClick={removeBtnMainCategoryStateClickHandler}\n                type=\"button\"\n                className={style.btn}\n              >\n                remove\n              </Button>\n              <Button\n                onClick={addMainCategoryAndModal}\n                type=\"button\"\n                className={style.btn}\n              >\n                add\n              </Button>\n            </div>\n          </div>\n          <div className={style.container}>\n            <div className={style[\"subtitle__container\"]}>\n              <p className={style.subtitle}>sub category</p>\n            </div>\n            <div className={style[\"data__container\"]}>{subDataContent}</div>\n            <div className={style[\"btn__container\"]}>\n              <Button\n                onClick={removeBtnSubCategoryStateClickHandler}\n                type=\"button\"\n                className={style.btn}\n              >\n                remove\n              </Button>\n              <Button\n                onClick={addSubCategoryAndModal}\n                type=\"button\"\n                className={style.btn}\n              >\n                add\n              </Button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </Fragment>\n  );\n}\n\nexport default SettingCategory;\n"]},"metadata":{},"sourceType":"module"}