{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/store/category/CategoryProvider.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer, useState, useEffect } from \"react\";\nimport CategoryContext from \"./category--context\";\nimport { db, auth } from \"../../firebase-config\";\nimport { collection, onSnapshot, doc, addDoc, deleteDoc, updateDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\nimport style from \"./CategoryProvider.module.css\";\nimport { IoFastFoodSharp } from \"react-icons/io5\";\nimport { IoIosShirt } from \"react-icons/io\";\nimport { GiFamilyHouse } from \"react-icons/gi\";\nimport { AiFillCar } from \"react-icons/ai\";\nimport { ImBook } from \"react-icons/im\";\nimport { IoLogoGameControllerB } from \"react-icons/io\";\nimport { RiMoneyDollarCircleFill } from \"react-icons/ri\";\nimport { RiHandCoinFill } from \"react-icons/ri\";\nimport { AiOutlineStock } from \"react-icons/ai\";\nimport { FiAlignCenter } from \"react-icons/fi\";\nimport { BsFillHeartFill, BsExclamationOctagonFill, BsTrophy, BsFillAwardFill, BsFillBriefcaseFill, BsFillEnvelopeOpenFill } from \"react-icons/bs\";\nimport { FaAlipay, FaCcAmazonPay, FaCcApplePay, FaGooglePlusSquare, FaLine, FaSpotify, FaAddressCard, FaCameraRetro, FaCat, FaChild, FaCut, FaFlushed, FaGlasses, FaHandsHelping, FaGuitar, FaKey, FaMapMarkedAlt, FaPhone, FaUserGraduate, FaUserSlash } from \"react-icons/fa\";\nimport { RiVidicon2Fill, RiPlaneLine, RiPingPongFill, RiMentalHealthFill, RiCake2Fill, RiCakeFill, RiBilliardsFill, RiUmbrellaFill, RiHandHeartFill } from \"react-icons/ri\";\nimport { MdAudiotrack } from \"react-icons/md\";\nimport { IoAmericanFootball } from \"react-icons/io5\";\nimport ReactDOMServer from \"react-dom/server\";\nimport createInitialData from \"../../Others/CreateInitialData/createInitialData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction encodeSvg(reactElement) {\n  return \"data:image/svg+xml,\" + escape(ReactDOMServer.renderToStaticMarkup(reactElement));\n} // console.log(String(encodeSvg(<RiPingPongFill />)));\n// const test = [\n//   <IoFastFoodSharp />,\n//   <IoIosShirt />,\n//   <GiFamilyHouse />,\n//   <AiFillCar />,\n//   <ImBook />,\n//   <IoLogoGameControllerB />,\n//   <RiMoneyDollarCircleFill />,\n//   <BsTrophy />,\n//   <RiHandCoinFill />,\n//   <AiOutlineStock />,\n//   <FiAlignCenter />,\n// ];\n\n\nconst iconObj = {\n  food: /*#__PURE__*/_jsxDEV(IoFastFoodSharp, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this),\n  clothing: /*#__PURE__*/_jsxDEV(IoIosShirt, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 13\n  }, this),\n  housing: /*#__PURE__*/_jsxDEV(GiFamilyHouse, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 12\n  }, this),\n  transportation: /*#__PURE__*/_jsxDEV(AiFillCar, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 19\n  }, this),\n  education: /*#__PURE__*/_jsxDEV(ImBook, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 14\n  }, this),\n  entertainment: /*#__PURE__*/_jsxDEV(IoLogoGameControllerB, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 18\n  }, this),\n  salary: /*#__PURE__*/_jsxDEV(RiMoneyDollarCircleFill, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 11\n  }, this),\n  investment: /*#__PURE__*/_jsxDEV(BsTrophy, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 15\n  }, this),\n  bonus: /*#__PURE__*/_jsxDEV(RiHandCoinFill, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 10\n  }, this),\n  stock: /*#__PURE__*/_jsxDEV(AiOutlineStock, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 10\n  }, this),\n  others: /*#__PURE__*/_jsxDEV(FiAlignCenter, {\n    className: style.icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 11\n  }, this)\n};\nconst iconArr = [/*#__PURE__*/_jsxDEV(BsFillHeartFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 115,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(BsExclamationOctagonFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 116,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(BsTrophy, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 117,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(BsFillAwardFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 118,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(BsFillBriefcaseFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 119,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(BsFillEnvelopeOpenFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 120,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaAlipay, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 121,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaCcAmazonPay, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 122,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaCcApplePay, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 123,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaGooglePlusSquare, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 124,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaLine, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 125,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaSpotify, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 126,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaAddressCard, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 127,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaCameraRetro, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 128,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaCat, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 129,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaChild, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 130,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaCut, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 131,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaFlushed, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 132,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaGlasses, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 133,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaHandsHelping, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 134,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaGuitar, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 135,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaKey, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 136,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaMapMarkedAlt, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 137,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaPhone, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 138,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(FaUserGraduate, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 139,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiVidicon2Fill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 140,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiPlaneLine, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 141,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiPingPongFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 142,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiMentalHealthFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 143,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiCake2Fill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 144,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiCakeFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 145,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiBilliardsFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 146,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiUmbrellaFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 147,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(RiHandHeartFill, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 148,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(MdAudiotrack, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 149,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(IoAmericanFootball, {\n  className: style.icon\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 150,\n  columnNumber: 3\n}, this)];\nconst EXPENSE_CATEGORY = {\n  food: [\"breakfast\", \"brunch\", \"lunch\", \"dinner\", \"snack\", \"drink\"],\n  clothing: [\"clothes\", \"pants\", \"shoes\", \"accessories\", \"underwear\"],\n  housing: [\"rent\", \"water  bill\", \"electricity bill\", \"gas bill\", \"cable bill\", \"internet bill\"],\n  transportation: [\"gasoline\", \"parking\", \"maintenance\"],\n  education: [\"books\", \"course\"],\n  entertainment: [\"video games\", \"computer games\", \"party\"],\n  others: [\"others\"]\n};\nconst INCOME_CATEGORY = {\n  salary: [\"salary\", \"bonus\"],\n  investment: [\"stock\"],\n  bonus: [\"bonus\"],\n  others: [\"others\"]\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"REMOVE_MAIN_CATEGORY\":\n      {\n        if (action.category === \"expense\") {\n          const categoryExpense = { ...state.categoryExpense\n          };\n          delete categoryExpense[action.value];\n          return { ...state,\n            categoryExpense\n          };\n        } else {\n          const categoryIncome = { ...state.categoryIncome\n          };\n          delete categoryIncome[action.value];\n          return { ...state,\n            categoryIncome\n          };\n        }\n      }\n\n    case \"REMOVE_SUB_CATEGORY\":\n      {\n        if (action.category === \"expense\") {\n          const categoryExpense = { ...state.categoryExpense\n          };\n          categoryExpense[action.mainCategory] = categoryExpense[action.mainCategory].filter(element => element !== action.value);\n          return { ...state,\n            categoryExpense\n          };\n        } else {\n          const categoryIncome = { ...state.categoryIncome\n          };\n          categoryIncome[action.mainCategory] = categoryIncome[action.mainCategory].filter(element => element !== action.value);\n          return { ...state,\n            categoryIncome\n          };\n        }\n      }\n\n    case \"ADD_MAIN_CATEGORY\":\n      {\n        /*\n        No matter it's expense or income, iconObj and iconArr are always the same\n        The only difference is category object data\n        */\n        const iconObj = { ...state.iconObj\n        };\n        iconObj[action.value] = state.iconArr[action.iconIndex];\n        const iconArr = state.iconArr.filter((element, index) => index + \"\" !== action.iconIndex); // expense data\n\n        if (action.category === \"expense\") {\n          const categoryExpense = { ...state.categoryExpense\n          };\n          categoryExpense[action.value] = [];\n          return { ...state,\n            categoryExpense,\n            iconObj,\n            iconArr\n          };\n        } // income data\n        else {\n          const categoryIncome = { ...state.categoryIncome\n          };\n          categoryIncome[action.value] = [];\n          return { ...state,\n            categoryIncome,\n            iconObj,\n            iconArr\n          };\n        }\n      }\n\n    case \"ADD_SUB_CATEGORY\":\n      {\n        if (action.category === \"expense\") {\n          const categoryExpense = { ...state.categoryExpense\n          };\n          categoryExpense[action.mainCategory] = categoryExpense[action.mainCategory].concat(action.value);\n          return { ...state,\n            categoryExpense\n          };\n        } else {\n          const categoryIncome = { ...state.categoryIncome\n          };\n          categoryIncome[action.mainCategory] = categoryIncome[action.mainCategory].concat(action.value);\n          return { ...state,\n            categoryIncome\n          };\n        }\n      }\n\n    default:\n      break;\n  }\n}\n\nfunction CategoryProvider(props) {\n  _s();\n\n  const user = auth.currentUser;\n  let userID = \"dcwecwe\";\n\n  if (user) {\n    const {\n      displayName,\n      email\n    } = user;\n    userID = `${email}${displayName.split(\" \").join(\"\")}`;\n  } // console.log(userID);\n\n\n  const userDocRef = doc(db, \"users\", userID); // console.log(userDocRef);\n  // const categoryExpenseCollectionRef = collection(db, \"category-expense\");\n  // const categoryIncomeCollectionRef = collection(db, \"category-income\");\n  // const userRef = collection(db, \"users\");\n  // const iconCollectionRef = collection(db, \"icon\");\n\n  const [categoryExpense, setCategoryExpense] = useState({});\n  const [categoryIncome, setCategoryIncome] = useState({});\n  const [iconArr, setIconArr] = useState([]);\n  const [iconObj, setIconObj] = useState({});\n  useEffect(() => {\n    if (!user) return;\n    onSnapshot(userDocRef, snapshot => {\n      const {\n        categoryExpense,\n        categoryIncome,\n        iconArr,\n        iconObj\n      } = snapshot.data();\n      setCategoryExpense(categoryExpense); // const categoryExpenseObj = {};\n      // const targetObj =\n      //   snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n      // const keys = Object.keys(targetObj);\n      // keys.forEach((key) => {\n      //   const subArrObj = targetObj[key].arrayValue.values;\n      //   const values = subArrObj ? subArrObj.map((val) => val.stringValue) : [];\n      //   categoryExpenseObj[key] = values;\n      // });\n      // setCategoryExpense(categoryExpenseObj);\n    });\n  }, [user]); // useEffect(() => {\n  //   onSnapshot(categoryExpenseCollectionRef, (snapshot) => {\n  //     const categoryExpenseObj = {};\n  //     const targetObj =\n  //       snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n  //     const keys = Object.keys(targetObj);\n  //     keys.forEach((key) => {\n  //       const subArrObj = targetObj[key].arrayValue.values;\n  //       const values = subArrObj ? subArrObj.map((val) => val.stringValue) : [];\n  //       categoryExpenseObj[key] = values;\n  //     });\n  //     setCategoryExpense(categoryExpenseObj);\n  //   });\n  //   onSnapshot(categoryIncomeCollectionRef, (snapshot) => {\n  //     const categoryIncomeObj = {};\n  //     const targetObj =\n  //       snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n  //     const keys = Object.keys(targetObj);\n  //     keys.forEach((key) => {\n  //       const values = targetObj[key].arrayValue.values.map(\n  //         (val) => val.stringValue\n  //       );\n  //       categoryIncomeObj[key] = values;\n  //     });\n  //     setCategoryIncome(categoryIncomeObj);\n  //   });\n  //   onSnapshot(iconCollectionRef, (snapshot) => {\n  //     const iconObj = {};\n  //     snapshot.docs.forEach((doc) => {\n  //       const id = doc.id;\n  //       const targetObj = doc[\"_document\"].data.value.mapValue.fields;\n  //       const [iconName] = Object.keys(targetObj);\n  //       const url = targetObj[iconName].stringValue;\n  //       iconObj[iconName] = [id, url];\n  //     });\n  //     setIconObjTes(iconObj);\n  //   });\n  //   onSnapshot(userRef, (snapshot) => {\n  //     console.log(snapshot.docs);\n  //   });\n  // }, []);\n\n  const [categoryState, categoryDispatch] = useReducer(reducer, {\n    categoryExpense: EXPENSE_CATEGORY,\n    categoryIncome: INCOME_CATEGORY,\n    iconObj,\n    iconArr\n  });\n\n  function removeMainCategory(value, category) {\n    categoryDispatch({\n      type: \"REMOVE_MAIN_CATEGORY\",\n      value,\n      category\n    });\n  }\n\n  function removeSubCategory(value, category, mainCategory) {\n    categoryDispatch({\n      type: \"REMOVE_SUB_CATEGORY\",\n      value,\n      category,\n      mainCategory\n    });\n  }\n\n  async function addMainCategory(value, iconIndex, category) {\n    categoryDispatch({\n      type: \"ADD_MAIN_CATEGORY\",\n      value,\n      iconIndex,\n      category\n    });\n    const [mainCategory] = createInitialData();\n    await updateDoc(doc(db, \"users\", \"oyeoye000000@gmail.comYOO\"), {\n      categoryExpense: { ...mainCategory,\n        newCategory: []\n      }\n    });\n  }\n\n  async function addSubCategory(value, category, mainCategory) {\n    categoryDispatch({\n      type: \"ADD_SUB_CATEGORY\",\n      value,\n      category,\n      mainCategory\n    }); // add sub category\n    // const washingtonRef = doc(db, \"category-expense\", \"L06cvqpk8QmD9Q2yKyB7\");\n    // await updateDoc(washingtonRef, {\n    //   clothing: arrayUnion(\"greater_virginia\"),\n    // });\n\n    const [expenseCategory] = createInitialData();\n    await updateDoc(doc(db, \"users\", \"oyeoye000000@gmail.comYOO\"), {\n      \"categoryExpense.food\": [...expenseCategory.food, \"burger\"]\n    });\n  }\n\n  const contextInitialObj = {\n    categoryExpense: categoryState.categoryExpense,\n    categoryIncome: categoryState.categoryIncome,\n    iconObj: categoryState.iconObj,\n    iconArr: categoryState.iconArr,\n    removeMainCategory,\n    removeSubCategory,\n    addMainCategory,\n    addSubCategory\n  };\n  return /*#__PURE__*/_jsxDEV(CategoryContext.Provider, {\n    value: contextInitialObj,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 426,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CategoryProvider, \"mKcSyYkh0Tj8cH4w5MFfTk0Yi2E=\");\n\n_c = CategoryProvider;\nexport default CategoryProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryProvider\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/store/category/CategoryProvider.js"],"names":["useReducer","useState","useEffect","CategoryContext","db","auth","collection","onSnapshot","doc","addDoc","deleteDoc","updateDoc","arrayUnion","arrayRemove","style","IoFastFoodSharp","IoIosShirt","GiFamilyHouse","AiFillCar","ImBook","IoLogoGameControllerB","RiMoneyDollarCircleFill","RiHandCoinFill","AiOutlineStock","FiAlignCenter","BsFillHeartFill","BsExclamationOctagonFill","BsTrophy","BsFillAwardFill","BsFillBriefcaseFill","BsFillEnvelopeOpenFill","FaAlipay","FaCcAmazonPay","FaCcApplePay","FaGooglePlusSquare","FaLine","FaSpotify","FaAddressCard","FaCameraRetro","FaCat","FaChild","FaCut","FaFlushed","FaGlasses","FaHandsHelping","FaGuitar","FaKey","FaMapMarkedAlt","FaPhone","FaUserGraduate","FaUserSlash","RiVidicon2Fill","RiPlaneLine","RiPingPongFill","RiMentalHealthFill","RiCake2Fill","RiCakeFill","RiBilliardsFill","RiUmbrellaFill","RiHandHeartFill","MdAudiotrack","IoAmericanFootball","ReactDOMServer","createInitialData","encodeSvg","reactElement","escape","renderToStaticMarkup","iconObj","food","icon","clothing","housing","transportation","education","entertainment","salary","investment","bonus","stock","others","iconArr","EXPENSE_CATEGORY","INCOME_CATEGORY","reducer","state","action","type","category","categoryExpense","value","categoryIncome","mainCategory","filter","element","iconIndex","index","concat","CategoryProvider","props","user","currentUser","userID","displayName","email","split","join","userDocRef","setCategoryExpense","setCategoryIncome","setIconArr","setIconObj","snapshot","data","categoryState","categoryDispatch","removeMainCategory","removeSubCategory","addMainCategory","newCategory","addSubCategory","expenseCategory","contextInitialObj","children"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,SAASC,EAAT,EAAaC,IAAb,QAAyB,uBAAzB;AAEA,SACEC,UADF,EAEEC,UAFF,EAGEC,GAHF,EAIEC,MAJF,EAKEC,SALF,EAMEC,SANF,EAOEC,UAPF,EAQEC,WARF,QASO,oBATP;AAWA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,qBAAT,QAAsC,gBAAtC;AACA,SAASC,uBAAT,QAAwC,gBAAxC;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SACEC,eADF,EAEEC,wBAFF,EAGEC,QAHF,EAIEC,eAJF,EAKEC,mBALF,EAMEC,sBANF,QAOO,gBAPP;AASA,SACEC,QADF,EAEEC,aAFF,EAGEC,YAHF,EAIEC,kBAJF,EAKEC,MALF,EAMEC,SANF,EAOEC,aAPF,EAQEC,aARF,EASEC,KATF,EAUEC,OAVF,EAWEC,KAXF,EAYEC,SAZF,EAaEC,SAbF,EAcEC,cAdF,EAeEC,QAfF,EAgBEC,KAhBF,EAiBEC,cAjBF,EAkBEC,OAlBF,EAmBEC,cAnBF,EAoBEC,WApBF,QAqBO,gBArBP;AAuBA,SACEC,cADF,EAEEC,WAFF,EAGEC,cAHF,EAIEC,kBAJF,EAKEC,WALF,EAMEC,UANF,EAOEC,eAPF,EAQEC,cARF,EASEC,eATF,QAUO,gBAVP;AAYA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,kBAAT,QAAmC,iBAAnC;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,iBAAP,MAA8B,kDAA9B;;;AAEA,SAASC,SAAT,CAAmBC,YAAnB,EAAiC;AAC/B,SACE,wBACAC,MAAM,CAACJ,cAAc,CAACK,oBAAf,CAAoCF,YAApC,CAAD,CAFR;AAID,C,CAED;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMG,OAAO,GAAG;AACdC,EAAAA,IAAI,eAAE,QAAC,eAAD;AAAiB,IAAA,SAAS,EAAEvD,KAAK,CAACwD;AAAlC;AAAA;AAAA;AAAA;AAAA,UADQ;AAEdC,EAAAA,QAAQ,eAAE,QAAC,UAAD;AAAY,IAAA,SAAS,EAAEzD,KAAK,CAACwD;AAA7B;AAAA;AAAA;AAAA;AAAA,UAFI;AAGdE,EAAAA,OAAO,eAAE,QAAC,aAAD;AAAe,IAAA,SAAS,EAAE1D,KAAK,CAACwD;AAAhC;AAAA;AAAA;AAAA;AAAA,UAHK;AAIdG,EAAAA,cAAc,eAAE,QAAC,SAAD;AAAW,IAAA,SAAS,EAAE3D,KAAK,CAACwD;AAA5B;AAAA;AAAA;AAAA;AAAA,UAJF;AAKdI,EAAAA,SAAS,eAAE,QAAC,MAAD;AAAQ,IAAA,SAAS,EAAE5D,KAAK,CAACwD;AAAzB;AAAA;AAAA;AAAA;AAAA,UALG;AAMdK,EAAAA,aAAa,eAAE,QAAC,qBAAD;AAAuB,IAAA,SAAS,EAAE7D,KAAK,CAACwD;AAAxC;AAAA;AAAA;AAAA;AAAA,UAND;AAOdM,EAAAA,MAAM,eAAE,QAAC,uBAAD;AAAyB,IAAA,SAAS,EAAE9D,KAAK,CAACwD;AAA1C;AAAA;AAAA;AAAA;AAAA,UAPM;AAQdO,EAAAA,UAAU,eAAE,QAAC,QAAD;AAAU,IAAA,SAAS,EAAE/D,KAAK,CAACwD;AAA3B;AAAA;AAAA;AAAA;AAAA,UARE;AASdQ,EAAAA,KAAK,eAAE,QAAC,cAAD;AAAgB,IAAA,SAAS,EAAEhE,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,UATO;AAUdS,EAAAA,KAAK,eAAE,QAAC,cAAD;AAAgB,IAAA,SAAS,EAAEjE,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,UAVO;AAWdU,EAAAA,MAAM,eAAE,QAAC,aAAD;AAAe,IAAA,SAAS,EAAElE,KAAK,CAACwD;AAAhC;AAAA;AAAA;AAAA;AAAA;AAXM,CAAhB;AAcA,MAAMW,OAAO,GAAG,cACd,QAAC,eAAD;AAAiB,EAAA,SAAS,EAAEnE,KAAK,CAACwD;AAAlC;AAAA;AAAA;AAAA;AAAA,QADc,eAEd,QAAC,wBAAD;AAA0B,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA3C;AAAA;AAAA;AAAA;AAAA,QAFc,eAGd,QAAC,QAAD;AAAU,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA3B;AAAA;AAAA;AAAA;AAAA,QAHc,eAId,QAAC,eAAD;AAAiB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAlC;AAAA;AAAA;AAAA;AAAA,QAJc,eAKd,QAAC,mBAAD;AAAqB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAtC;AAAA;AAAA;AAAA;AAAA,QALc,eAMd,QAAC,sBAAD;AAAwB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAzC;AAAA;AAAA;AAAA;AAAA,QANc,eAOd,QAAC,QAAD;AAAU,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA3B;AAAA;AAAA;AAAA;AAAA,QAPc,eAQd,QAAC,aAAD;AAAe,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAhC;AAAA;AAAA;AAAA;AAAA,QARc,eASd,QAAC,YAAD;AAAc,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA/B;AAAA;AAAA;AAAA;AAAA,QATc,eAUd,QAAC,kBAAD;AAAoB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAArC;AAAA;AAAA;AAAA;AAAA,QAVc,eAWd,QAAC,MAAD;AAAQ,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAzB;AAAA;AAAA;AAAA;AAAA,QAXc,eAYd,QAAC,SAAD;AAAW,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA5B;AAAA;AAAA;AAAA;AAAA,QAZc,eAad,QAAC,aAAD;AAAe,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAhC;AAAA;AAAA;AAAA;AAAA,QAbc,eAcd,QAAC,aAAD;AAAe,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAhC;AAAA;AAAA;AAAA;AAAA,QAdc,eAed,QAAC,KAAD;AAAO,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAxB;AAAA;AAAA;AAAA;AAAA,QAfc,eAgBd,QAAC,OAAD;AAAS,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA1B;AAAA;AAAA;AAAA;AAAA,QAhBc,eAiBd,QAAC,KAAD;AAAO,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAxB;AAAA;AAAA;AAAA;AAAA,QAjBc,eAkBd,QAAC,SAAD;AAAW,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA5B;AAAA;AAAA;AAAA;AAAA,QAlBc,eAmBd,QAAC,SAAD;AAAW,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA5B;AAAA;AAAA;AAAA;AAAA,QAnBc,eAoBd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QApBc,eAqBd,QAAC,QAAD;AAAU,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA3B;AAAA;AAAA;AAAA;AAAA,QArBc,eAsBd,QAAC,KAAD;AAAO,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAxB;AAAA;AAAA;AAAA;AAAA,QAtBc,eAuBd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QAvBc,eAwBd,QAAC,OAAD;AAAS,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA1B;AAAA;AAAA;AAAA;AAAA,QAxBc,eAyBd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QAzBc,eA0Bd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QA1Bc,eA2Bd,QAAC,WAAD;AAAa,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA9B;AAAA;AAAA;AAAA;AAAA,QA3Bc,eA4Bd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QA5Bc,eA6Bd,QAAC,kBAAD;AAAoB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAArC;AAAA;AAAA;AAAA;AAAA,QA7Bc,eA8Bd,QAAC,WAAD;AAAa,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA9B;AAAA;AAAA;AAAA;AAAA,QA9Bc,eA+Bd,QAAC,UAAD;AAAY,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA7B;AAAA;AAAA;AAAA;AAAA,QA/Bc,eAgCd,QAAC,eAAD;AAAiB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAlC;AAAA;AAAA;AAAA;AAAA,QAhCc,eAiCd,QAAC,cAAD;AAAgB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAjC;AAAA;AAAA;AAAA;AAAA,QAjCc,eAkCd,QAAC,eAAD;AAAiB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAAlC;AAAA;AAAA;AAAA;AAAA,QAlCc,eAmCd,QAAC,YAAD;AAAc,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAA/B;AAAA;AAAA;AAAA;AAAA,QAnCc,eAoCd,QAAC,kBAAD;AAAoB,EAAA,SAAS,EAAExD,KAAK,CAACwD;AAArC;AAAA;AAAA;AAAA;AAAA,QApCc,CAAhB;AAuCA,MAAMY,gBAAgB,GAAG;AACvBb,EAAAA,IAAI,EAAE,CAAC,WAAD,EAAc,QAAd,EAAwB,OAAxB,EAAiC,QAAjC,EAA2C,OAA3C,EAAoD,OAApD,CADiB;AAEvBE,EAAAA,QAAQ,EAAE,CAAC,SAAD,EAAY,OAAZ,EAAqB,OAArB,EAA8B,aAA9B,EAA6C,WAA7C,CAFa;AAGvBC,EAAAA,OAAO,EAAE,CACP,MADO,EAEP,aAFO,EAGP,kBAHO,EAIP,UAJO,EAKP,YALO,EAMP,eANO,CAHc;AAWvBC,EAAAA,cAAc,EAAE,CAAC,UAAD,EAAa,SAAb,EAAwB,aAAxB,CAXO;AAYvBC,EAAAA,SAAS,EAAE,CAAC,OAAD,EAAU,QAAV,CAZY;AAavBC,EAAAA,aAAa,EAAE,CAAC,aAAD,EAAgB,gBAAhB,EAAkC,OAAlC,CAbQ;AAcvBK,EAAAA,MAAM,EAAE,CAAC,QAAD;AAde,CAAzB;AAiBA,MAAMG,eAAe,GAAG;AACtBP,EAAAA,MAAM,EAAE,CAAC,QAAD,EAAW,OAAX,CADc;AAEtBC,EAAAA,UAAU,EAAE,CAAC,OAAD,CAFU;AAGtBC,EAAAA,KAAK,EAAE,CAAC,OAAD,CAHe;AAItBE,EAAAA,MAAM,EAAE,CAAC,QAAD;AAJc,CAAxB;;AAOA,SAASI,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,sBAAL;AAA6B;AAC3B,YAAID,MAAM,CAACE,QAAP,KAAoB,SAAxB,EAAmC;AACjC,gBAAMC,eAAe,GAAG,EAAE,GAAGJ,KAAK,CAACI;AAAX,WAAxB;AAEA,iBAAOA,eAAe,CAACH,MAAM,CAACI,KAAR,CAAtB;AAEA,iBAAO,EAAE,GAAGL,KAAL;AAAYI,YAAAA;AAAZ,WAAP;AACD,SAND,MAMO;AACL,gBAAME,cAAc,GAAG,EAAE,GAAGN,KAAK,CAACM;AAAX,WAAvB;AAEA,iBAAOA,cAAc,CAACL,MAAM,CAACI,KAAR,CAArB;AAEA,iBAAO,EAAE,GAAGL,KAAL;AAAYM,YAAAA;AAAZ,WAAP;AACD;AACF;;AAED,SAAK,qBAAL;AAA4B;AAC1B,YAAIL,MAAM,CAACE,QAAP,KAAoB,SAAxB,EAAmC;AACjC,gBAAMC,eAAe,GAAG,EAAE,GAAGJ,KAAK,CAACI;AAAX,WAAxB;AAEAA,UAAAA,eAAe,CAACH,MAAM,CAACM,YAAR,CAAf,GAAuCH,eAAe,CACpDH,MAAM,CAACM,YAD6C,CAAf,CAErCC,MAFqC,CAE7BC,OAAD,IAAaA,OAAO,KAAKR,MAAM,CAACI,KAFF,CAAvC;AAIA,iBAAO,EAAE,GAAGL,KAAL;AAAYI,YAAAA;AAAZ,WAAP;AACD,SARD,MAQO;AACL,gBAAME,cAAc,GAAG,EAAE,GAAGN,KAAK,CAACM;AAAX,WAAvB;AAEAA,UAAAA,cAAc,CAACL,MAAM,CAACM,YAAR,CAAd,GAAsCD,cAAc,CAClDL,MAAM,CAACM,YAD2C,CAAd,CAEpCC,MAFoC,CAE5BC,OAAD,IAAaA,OAAO,KAAKR,MAAM,CAACI,KAFH,CAAtC;AAIA,iBAAO,EAAE,GAAGL,KAAL;AAAYM,YAAAA;AAAZ,WAAP;AACD;AACF;;AAED,SAAK,mBAAL;AAA0B;AACxB;AACN;AACA;AACA;AACM,cAAMvB,OAAO,GAAG,EAAE,GAAGiB,KAAK,CAACjB;AAAX,SAAhB;AACAA,QAAAA,OAAO,CAACkB,MAAM,CAACI,KAAR,CAAP,GAAwBL,KAAK,CAACJ,OAAN,CAAcK,MAAM,CAACS,SAArB,CAAxB;AACA,cAAMd,OAAO,GAAGI,KAAK,CAACJ,OAAN,CAAcY,MAAd,CACd,CAACC,OAAD,EAAUE,KAAV,KAAoBA,KAAK,GAAG,EAAR,KAAeV,MAAM,CAACS,SAD5B,CAAhB,CAPwB,CAWxB;;AACA,YAAIT,MAAM,CAACE,QAAP,KAAoB,SAAxB,EAAmC;AACjC,gBAAMC,eAAe,GAAG,EAAE,GAAGJ,KAAK,CAACI;AAAX,WAAxB;AACAA,UAAAA,eAAe,CAACH,MAAM,CAACI,KAAR,CAAf,GAAgC,EAAhC;AAEA,iBAAO,EAAE,GAAGL,KAAL;AAAYI,YAAAA,eAAZ;AAA6BrB,YAAAA,OAA7B;AAAsCa,YAAAA;AAAtC,WAAP;AACD,SALD,CAMA;AANA,aAOK;AACH,gBAAMU,cAAc,GAAG,EAAE,GAAGN,KAAK,CAACM;AAAX,WAAvB;AACAA,UAAAA,cAAc,CAACL,MAAM,CAACI,KAAR,CAAd,GAA+B,EAA/B;AAEA,iBAAO,EAAE,GAAGL,KAAL;AAAYM,YAAAA,cAAZ;AAA4BvB,YAAAA,OAA5B;AAAqCa,YAAAA;AAArC,WAAP;AACD;AACF;;AAED,SAAK,kBAAL;AAAyB;AACvB,YAAIK,MAAM,CAACE,QAAP,KAAoB,SAAxB,EAAmC;AACjC,gBAAMC,eAAe,GAAG,EAAE,GAAGJ,KAAK,CAACI;AAAX,WAAxB;AAEAA,UAAAA,eAAe,CAACH,MAAM,CAACM,YAAR,CAAf,GAAuCH,eAAe,CACpDH,MAAM,CAACM,YAD6C,CAAf,CAErCK,MAFqC,CAE9BX,MAAM,CAACI,KAFuB,CAAvC;AAIA,iBAAO,EAAE,GAAGL,KAAL;AAAYI,YAAAA;AAAZ,WAAP;AACD,SARD,MAQO;AACL,gBAAME,cAAc,GAAG,EAAE,GAAGN,KAAK,CAACM;AAAX,WAAvB;AAEAA,UAAAA,cAAc,CAACL,MAAM,CAACM,YAAR,CAAd,GAAsCD,cAAc,CAClDL,MAAM,CAACM,YAD2C,CAAd,CAEpCK,MAFoC,CAE7BX,MAAM,CAACI,KAFsB,CAAtC;AAIA,iBAAO,EAAE,GAAGL,KAAL;AAAYM,YAAAA;AAAZ,WAAP;AACD;AACF;;AAED;AACE;AArFJ;AAuFD;;AAED,SAASO,gBAAT,CAA0BC,KAA1B,EAAiC;AAAA;;AAC/B,QAAMC,IAAI,GAAG/F,IAAI,CAACgG,WAAlB;AACA,MAAIC,MAAM,GAAG,SAAb;;AACA,MAAIF,IAAJ,EAAU;AACR,UAAM;AAAEG,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAyBJ,IAA/B;AACAE,IAAAA,MAAM,GAAI,GAAEE,KAAM,GAAED,WAAW,CAACE,KAAZ,CAAkB,GAAlB,EAAuBC,IAAvB,CAA4B,EAA5B,CAAgC,EAApD;AACD,GAN8B,CAO/B;;;AACA,QAAMC,UAAU,GAAGnG,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAckG,MAAd,CAAtB,CAR+B,CAS/B;AAEA;AACA;AACA;AACA;;AACA,QAAM,CAACb,eAAD,EAAkBmB,kBAAlB,IAAwC3G,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAAC0F,cAAD,EAAiBkB,iBAAjB,IAAsC5G,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACgF,OAAD,EAAU6B,UAAV,IAAwB7G,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACmE,OAAD,EAAU2C,UAAV,IAAwB9G,QAAQ,CAAC,EAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACkG,IAAL,EAAW;AACX7F,IAAAA,UAAU,CAACoG,UAAD,EAAcK,QAAD,IAAc;AACnC,YAAM;AAAEvB,QAAAA,eAAF;AAAmBE,QAAAA,cAAnB;AAAmCV,QAAAA,OAAnC;AAA4Cb,QAAAA;AAA5C,UACJ4C,QAAQ,CAACC,IAAT,EADF;AAGAL,MAAAA,kBAAkB,CAACnB,eAAD,CAAlB,CAJmC,CAKnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAfS,CAAV;AAgBD,GAlBQ,EAkBN,CAACW,IAAD,CAlBM,CAAT,CApB+B,CAwC/B;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;AAEA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAoCnH,UAAU,CAACoF,OAAD,EAAU;AAC5DK,IAAAA,eAAe,EAAEP,gBAD2C;AAE5DS,IAAAA,cAAc,EAAER,eAF4C;AAG5Df,IAAAA,OAH4D;AAI5Da,IAAAA;AAJ4D,GAAV,CAApD;;AAOA,WAASmC,kBAAT,CAA4B1B,KAA5B,EAAmCF,QAAnC,EAA6C;AAC3C2B,IAAAA,gBAAgB,CAAC;AAAE5B,MAAAA,IAAI,EAAE,sBAAR;AAAgCG,MAAAA,KAAhC;AAAuCF,MAAAA;AAAvC,KAAD,CAAhB;AACD;;AAED,WAAS6B,iBAAT,CAA2B3B,KAA3B,EAAkCF,QAAlC,EAA4CI,YAA5C,EAA0D;AACxDuB,IAAAA,gBAAgB,CAAC;AACf5B,MAAAA,IAAI,EAAE,qBADS;AAEfG,MAAAA,KAFe;AAGfF,MAAAA,QAHe;AAIfI,MAAAA;AAJe,KAAD,CAAhB;AAMD;;AAED,iBAAe0B,eAAf,CAA+B5B,KAA/B,EAAsCK,SAAtC,EAAiDP,QAAjD,EAA2D;AACzD2B,IAAAA,gBAAgB,CAAC;AAAE5B,MAAAA,IAAI,EAAE,mBAAR;AAA6BG,MAAAA,KAA7B;AAAoCK,MAAAA,SAApC;AAA+CP,MAAAA;AAA/C,KAAD,CAAhB;AAEA,UAAM,CAACI,YAAD,IAAiB7B,iBAAiB,EAAxC;AAEA,UAAMpD,SAAS,CAACH,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAc,2BAAd,CAAJ,EAAgD;AAC7DqF,MAAAA,eAAe,EAAE,EAAE,GAAGG,YAAL;AAAmB2B,QAAAA,WAAW,EAAE;AAAhC;AAD4C,KAAhD,CAAf;AAGD;;AAED,iBAAeC,cAAf,CAA8B9B,KAA9B,EAAqCF,QAArC,EAA+CI,YAA/C,EAA6D;AAC3DuB,IAAAA,gBAAgB,CAAC;AACf5B,MAAAA,IAAI,EAAE,kBADS;AAEfG,MAAAA,KAFe;AAGfF,MAAAA,QAHe;AAIfI,MAAAA;AAJe,KAAD,CAAhB,CAD2D,CAQ3D;AACA;AACA;AACA;AACA;;AAEA,UAAM,CAAC6B,eAAD,IAAoB1D,iBAAiB,EAA3C;AAEA,UAAMpD,SAAS,CAACH,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAc,2BAAd,CAAJ,EAAgD;AAC7D,8BAAwB,CAAC,GAAGqH,eAAe,CAACpD,IAApB,EAA0B,QAA1B;AADqC,KAAhD,CAAf;AAGD;;AAED,QAAMqD,iBAAiB,GAAG;AACxBjC,IAAAA,eAAe,EAAEyB,aAAa,CAACzB,eADP;AAExBE,IAAAA,cAAc,EAAEuB,aAAa,CAACvB,cAFN;AAGxBvB,IAAAA,OAAO,EAAE8C,aAAa,CAAC9C,OAHC;AAIxBa,IAAAA,OAAO,EAAEiC,aAAa,CAACjC,OAJC;AAKxBmC,IAAAA,kBALwB;AAMxBC,IAAAA,iBANwB;AAOxBC,IAAAA,eAPwB;AAQxBE,IAAAA;AARwB,GAA1B;AAWA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEE,iBAAjC;AAAA,cACGvB,KAAK,CAACwB;AADT;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAnKQzB,gB;;KAAAA,gB;AAqKT,eAAeA,gBAAf","sourcesContent":["import { useReducer, useState, useEffect } from \"react\";\nimport CategoryContext from \"./category--context\";\nimport { db, auth } from \"../../firebase-config\";\n\nimport {\n  collection,\n  onSnapshot,\n  doc,\n  addDoc,\n  deleteDoc,\n  updateDoc,\n  arrayUnion,\n  arrayRemove,\n} from \"firebase/firestore\";\n\nimport style from \"./CategoryProvider.module.css\";\nimport { IoFastFoodSharp } from \"react-icons/io5\";\nimport { IoIosShirt } from \"react-icons/io\";\nimport { GiFamilyHouse } from \"react-icons/gi\";\nimport { AiFillCar } from \"react-icons/ai\";\nimport { ImBook } from \"react-icons/im\";\nimport { IoLogoGameControllerB } from \"react-icons/io\";\nimport { RiMoneyDollarCircleFill } from \"react-icons/ri\";\nimport { RiHandCoinFill } from \"react-icons/ri\";\nimport { AiOutlineStock } from \"react-icons/ai\";\nimport { FiAlignCenter } from \"react-icons/fi\";\nimport {\n  BsFillHeartFill,\n  BsExclamationOctagonFill,\n  BsTrophy,\n  BsFillAwardFill,\n  BsFillBriefcaseFill,\n  BsFillEnvelopeOpenFill,\n} from \"react-icons/bs\";\n\nimport {\n  FaAlipay,\n  FaCcAmazonPay,\n  FaCcApplePay,\n  FaGooglePlusSquare,\n  FaLine,\n  FaSpotify,\n  FaAddressCard,\n  FaCameraRetro,\n  FaCat,\n  FaChild,\n  FaCut,\n  FaFlushed,\n  FaGlasses,\n  FaHandsHelping,\n  FaGuitar,\n  FaKey,\n  FaMapMarkedAlt,\n  FaPhone,\n  FaUserGraduate,\n  FaUserSlash,\n} from \"react-icons/fa\";\n\nimport {\n  RiVidicon2Fill,\n  RiPlaneLine,\n  RiPingPongFill,\n  RiMentalHealthFill,\n  RiCake2Fill,\n  RiCakeFill,\n  RiBilliardsFill,\n  RiUmbrellaFill,\n  RiHandHeartFill,\n} from \"react-icons/ri\";\n\nimport { MdAudiotrack } from \"react-icons/md\";\nimport { IoAmericanFootball } from \"react-icons/io5\";\n\nimport ReactDOMServer from \"react-dom/server\";\nimport createInitialData from \"../../Others/CreateInitialData/createInitialData\";\n\nfunction encodeSvg(reactElement) {\n  return (\n    \"data:image/svg+xml,\" +\n    escape(ReactDOMServer.renderToStaticMarkup(reactElement))\n  );\n}\n\n// console.log(String(encodeSvg(<RiPingPongFill />)));\n\n// const test = [\n//   <IoFastFoodSharp />,\n//   <IoIosShirt />,\n//   <GiFamilyHouse />,\n//   <AiFillCar />,\n//   <ImBook />,\n//   <IoLogoGameControllerB />,\n//   <RiMoneyDollarCircleFill />,\n//   <BsTrophy />,\n//   <RiHandCoinFill />,\n//   <AiOutlineStock />,\n//   <FiAlignCenter />,\n// ];\n\nconst iconObj = {\n  food: <IoFastFoodSharp className={style.icon} />,\n  clothing: <IoIosShirt className={style.icon} />,\n  housing: <GiFamilyHouse className={style.icon} />,\n  transportation: <AiFillCar className={style.icon} />,\n  education: <ImBook className={style.icon} />,\n  entertainment: <IoLogoGameControllerB className={style.icon} />,\n  salary: <RiMoneyDollarCircleFill className={style.icon} />,\n  investment: <BsTrophy className={style.icon} />,\n  bonus: <RiHandCoinFill className={style.icon} />,\n  stock: <AiOutlineStock className={style.icon} />,\n  others: <FiAlignCenter className={style.icon} />,\n};\n\nconst iconArr = [\n  <BsFillHeartFill className={style.icon} />,\n  <BsExclamationOctagonFill className={style.icon} />,\n  <BsTrophy className={style.icon} />,\n  <BsFillAwardFill className={style.icon} />,\n  <BsFillBriefcaseFill className={style.icon} />,\n  <BsFillEnvelopeOpenFill className={style.icon} />,\n  <FaAlipay className={style.icon} />,\n  <FaCcAmazonPay className={style.icon} />,\n  <FaCcApplePay className={style.icon} />,\n  <FaGooglePlusSquare className={style.icon} />,\n  <FaLine className={style.icon} />,\n  <FaSpotify className={style.icon} />,\n  <FaAddressCard className={style.icon} />,\n  <FaCameraRetro className={style.icon} />,\n  <FaCat className={style.icon} />,\n  <FaChild className={style.icon} />,\n  <FaCut className={style.icon} />,\n  <FaFlushed className={style.icon} />,\n  <FaGlasses className={style.icon} />,\n  <FaHandsHelping className={style.icon} />,\n  <FaGuitar className={style.icon} />,\n  <FaKey className={style.icon} />,\n  <FaMapMarkedAlt className={style.icon} />,\n  <FaPhone className={style.icon} />,\n  <FaUserGraduate className={style.icon} />,\n  <RiVidicon2Fill className={style.icon} />,\n  <RiPlaneLine className={style.icon} />,\n  <RiPingPongFill className={style.icon} />,\n  <RiMentalHealthFill className={style.icon} />,\n  <RiCake2Fill className={style.icon} />,\n  <RiCakeFill className={style.icon} />,\n  <RiBilliardsFill className={style.icon} />,\n  <RiUmbrellaFill className={style.icon} />,\n  <RiHandHeartFill className={style.icon} />,\n  <MdAudiotrack className={style.icon} />,\n  <IoAmericanFootball className={style.icon} />,\n];\n\nconst EXPENSE_CATEGORY = {\n  food: [\"breakfast\", \"brunch\", \"lunch\", \"dinner\", \"snack\", \"drink\"],\n  clothing: [\"clothes\", \"pants\", \"shoes\", \"accessories\", \"underwear\"],\n  housing: [\n    \"rent\",\n    \"water  bill\",\n    \"electricity bill\",\n    \"gas bill\",\n    \"cable bill\",\n    \"internet bill\",\n  ],\n  transportation: [\"gasoline\", \"parking\", \"maintenance\"],\n  education: [\"books\", \"course\"],\n  entertainment: [\"video games\", \"computer games\", \"party\"],\n  others: [\"others\"],\n};\n\nconst INCOME_CATEGORY = {\n  salary: [\"salary\", \"bonus\"],\n  investment: [\"stock\"],\n  bonus: [\"bonus\"],\n  others: [\"others\"],\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"REMOVE_MAIN_CATEGORY\": {\n      if (action.category === \"expense\") {\n        const categoryExpense = { ...state.categoryExpense };\n\n        delete categoryExpense[action.value];\n\n        return { ...state, categoryExpense };\n      } else {\n        const categoryIncome = { ...state.categoryIncome };\n\n        delete categoryIncome[action.value];\n\n        return { ...state, categoryIncome };\n      }\n    }\n\n    case \"REMOVE_SUB_CATEGORY\": {\n      if (action.category === \"expense\") {\n        const categoryExpense = { ...state.categoryExpense };\n\n        categoryExpense[action.mainCategory] = categoryExpense[\n          action.mainCategory\n        ].filter((element) => element !== action.value);\n\n        return { ...state, categoryExpense };\n      } else {\n        const categoryIncome = { ...state.categoryIncome };\n\n        categoryIncome[action.mainCategory] = categoryIncome[\n          action.mainCategory\n        ].filter((element) => element !== action.value);\n\n        return { ...state, categoryIncome };\n      }\n    }\n\n    case \"ADD_MAIN_CATEGORY\": {\n      /*\n      No matter it's expense or income, iconObj and iconArr are always the same\n      The only difference is category object data\n      */\n      const iconObj = { ...state.iconObj };\n      iconObj[action.value] = state.iconArr[action.iconIndex];\n      const iconArr = state.iconArr.filter(\n        (element, index) => index + \"\" !== action.iconIndex\n      );\n\n      // expense data\n      if (action.category === \"expense\") {\n        const categoryExpense = { ...state.categoryExpense };\n        categoryExpense[action.value] = [];\n\n        return { ...state, categoryExpense, iconObj, iconArr };\n      }\n      // income data\n      else {\n        const categoryIncome = { ...state.categoryIncome };\n        categoryIncome[action.value] = [];\n\n        return { ...state, categoryIncome, iconObj, iconArr };\n      }\n    }\n\n    case \"ADD_SUB_CATEGORY\": {\n      if (action.category === \"expense\") {\n        const categoryExpense = { ...state.categoryExpense };\n\n        categoryExpense[action.mainCategory] = categoryExpense[\n          action.mainCategory\n        ].concat(action.value);\n\n        return { ...state, categoryExpense };\n      } else {\n        const categoryIncome = { ...state.categoryIncome };\n\n        categoryIncome[action.mainCategory] = categoryIncome[\n          action.mainCategory\n        ].concat(action.value);\n\n        return { ...state, categoryIncome };\n      }\n    }\n\n    default:\n      break;\n  }\n}\n\nfunction CategoryProvider(props) {\n  const user = auth.currentUser;\n  let userID = \"dcwecwe\";\n  if (user) {\n    const { displayName, email } = user;\n    userID = `${email}${displayName.split(\" \").join(\"\")}`;\n  }\n  // console.log(userID);\n  const userDocRef = doc(db, \"users\", userID);\n  // console.log(userDocRef);\n\n  // const categoryExpenseCollectionRef = collection(db, \"category-expense\");\n  // const categoryIncomeCollectionRef = collection(db, \"category-income\");\n  // const userRef = collection(db, \"users\");\n  // const iconCollectionRef = collection(db, \"icon\");\n  const [categoryExpense, setCategoryExpense] = useState({});\n  const [categoryIncome, setCategoryIncome] = useState({});\n  const [iconArr, setIconArr] = useState([]);\n  const [iconObj, setIconObj] = useState({});\n\n  useEffect(() => {\n    if (!user) return;\n    onSnapshot(userDocRef, (snapshot) => {\n      const { categoryExpense, categoryIncome, iconArr, iconObj } =\n        snapshot.data();\n\n      setCategoryExpense(categoryExpense);\n      // const categoryExpenseObj = {};\n      // const targetObj =\n      //   snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n      // const keys = Object.keys(targetObj);\n      // keys.forEach((key) => {\n      //   const subArrObj = targetObj[key].arrayValue.values;\n      //   const values = subArrObj ? subArrObj.map((val) => val.stringValue) : [];\n      //   categoryExpenseObj[key] = values;\n      // });\n      // setCategoryExpense(categoryExpenseObj);\n    });\n  }, [user]);\n\n  // useEffect(() => {\n  //   onSnapshot(categoryExpenseCollectionRef, (snapshot) => {\n  //     const categoryExpenseObj = {};\n  //     const targetObj =\n  //       snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n\n  //     const keys = Object.keys(targetObj);\n\n  //     keys.forEach((key) => {\n  //       const subArrObj = targetObj[key].arrayValue.values;\n  //       const values = subArrObj ? subArrObj.map((val) => val.stringValue) : [];\n\n  //       categoryExpenseObj[key] = values;\n  //     });\n\n  //     setCategoryExpense(categoryExpenseObj);\n  //   });\n\n  //   onSnapshot(categoryIncomeCollectionRef, (snapshot) => {\n  //     const categoryIncomeObj = {};\n  //     const targetObj =\n  //       snapshot.docs[0][\"_document\"].data.value.mapValue.fields;\n\n  //     const keys = Object.keys(targetObj);\n\n  //     keys.forEach((key) => {\n  //       const values = targetObj[key].arrayValue.values.map(\n  //         (val) => val.stringValue\n  //       );\n\n  //       categoryIncomeObj[key] = values;\n  //     });\n\n  //     setCategoryIncome(categoryIncomeObj);\n  //   });\n\n  //   onSnapshot(iconCollectionRef, (snapshot) => {\n  //     const iconObj = {};\n\n  //     snapshot.docs.forEach((doc) => {\n  //       const id = doc.id;\n  //       const targetObj = doc[\"_document\"].data.value.mapValue.fields;\n  //       const [iconName] = Object.keys(targetObj);\n  //       const url = targetObj[iconName].stringValue;\n\n  //       iconObj[iconName] = [id, url];\n  //     });\n\n  //     setIconObjTes(iconObj);\n  //   });\n\n  //   onSnapshot(userRef, (snapshot) => {\n  //     console.log(snapshot.docs);\n  //   });\n  // }, []);\n\n  const [categoryState, categoryDispatch] = useReducer(reducer, {\n    categoryExpense: EXPENSE_CATEGORY,\n    categoryIncome: INCOME_CATEGORY,\n    iconObj,\n    iconArr,\n  });\n\n  function removeMainCategory(value, category) {\n    categoryDispatch({ type: \"REMOVE_MAIN_CATEGORY\", value, category });\n  }\n\n  function removeSubCategory(value, category, mainCategory) {\n    categoryDispatch({\n      type: \"REMOVE_SUB_CATEGORY\",\n      value,\n      category,\n      mainCategory,\n    });\n  }\n\n  async function addMainCategory(value, iconIndex, category) {\n    categoryDispatch({ type: \"ADD_MAIN_CATEGORY\", value, iconIndex, category });\n\n    const [mainCategory] = createInitialData();\n\n    await updateDoc(doc(db, \"users\", \"oyeoye000000@gmail.comYOO\"), {\n      categoryExpense: { ...mainCategory, newCategory: [] },\n    });\n  }\n\n  async function addSubCategory(value, category, mainCategory) {\n    categoryDispatch({\n      type: \"ADD_SUB_CATEGORY\",\n      value,\n      category,\n      mainCategory,\n    });\n\n    // add sub category\n    // const washingtonRef = doc(db, \"category-expense\", \"L06cvqpk8QmD9Q2yKyB7\");\n    // await updateDoc(washingtonRef, {\n    //   clothing: arrayUnion(\"greater_virginia\"),\n    // });\n\n    const [expenseCategory] = createInitialData();\n\n    await updateDoc(doc(db, \"users\", \"oyeoye000000@gmail.comYOO\"), {\n      \"categoryExpense.food\": [...expenseCategory.food, \"burger\"],\n    });\n  }\n\n  const contextInitialObj = {\n    categoryExpense: categoryState.categoryExpense,\n    categoryIncome: categoryState.categoryIncome,\n    iconObj: categoryState.iconObj,\n    iconArr: categoryState.iconArr,\n    removeMainCategory,\n    removeSubCategory,\n    addMainCategory,\n    addSubCategory,\n  };\n\n  return (\n    <CategoryContext.Provider value={contextInitialObj}>\n      {props.children}\n    </CategoryContext.Provider>\n  );\n}\n\nexport default CategoryProvider;\n"]},"metadata":{},"sourceType":"module"}