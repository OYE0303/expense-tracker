{"ast":null,"code":"var _jsxFileName = \"/Users/eyo/Desktop/expense-tracker/src/components/MainContent/Setting/SettingContent/SettingCategory/SettingCategory.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useReducer, Fragment, useEffect } from \"react\";\nimport CategoryContext from \"../../../../../store/category/category--context\";\nimport InputRadio from \"../../../../UI/InputRadio/InputRadio\";\nimport Button from \"../../../../UI/Button/Button\";\nimport AddMainCategoryModal from \"../../../../UI/AddMainCategoryModal/AddMainCategoryModal\";\nimport AddingSubCategoryModal from \"../../../../UI/AddingSubCategoryModal/AddingSubCategoryModal\";\nimport DeleteCategoryModal from \"../../../../UI/DeleteCategoryModal/DeleteCategoryModal\";\nimport BtnIcon from \"../../../../UI/BtnIcon/BtnIcon\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport style from \"./SettingCategory.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet expenseObj, incomeObj;\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"TYPE\":\n      {\n        // update these four values when chaning type\n        let mainCategoryArr, subCategoryArr, mainCategory, subCategory;\n\n        if (action.value === \"expense\") {\n          const expenseKeyArr = Object.keys(expenseObj);\n          mainCategoryArr = expenseKeyArr;\n          subCategoryArr = expenseObj[expenseKeyArr[0]];\n          mainCategory = expenseKeyArr[0];\n          subCategory = expenseObj[mainCategory][0];\n        } else {\n          const incomeKeyArr = Object.keys(incomeObj);\n          mainCategoryArr = incomeKeyArr;\n          subCategoryArr = incomeObj[incomeKeyArr[0]];\n          mainCategory = incomeKeyArr[0];\n          subCategory = incomeObj[mainCategory][0];\n        }\n\n        return { ...state,\n          category: action.value,\n          mainCategoryArr,\n          subCategoryArr,\n          mainCategory,\n          subCategory,\n          // whenever use change the category, the editing state should be canceled\n          editMainCategory: false,\n          editSubCategory: false\n        };\n      }\n\n    case \"CLICK_MAIN_CATEGORY\":\n      {\n        let subCategoryArr, subCategory;\n\n        if (state.category === \"expense\") {\n          subCategoryArr = expenseObj[action.value];\n          subCategory = expenseObj[action.value][0];\n        } else {\n          subCategoryArr = incomeObj[action.value];\n          subCategory = incomeObj[action.value][0];\n        }\n\n        return { ...state,\n          subCategoryArr,\n          subCategory,\n          mainCategory: action.value\n        };\n      }\n\n    case \"CLICK_SUB_CATEGORY\":\n      {\n        return { ...state,\n          subCategory: action.value\n        };\n      }\n\n    case \"EDIT_MAIN_CATEGORY_STATE\":\n      {\n        return { ...state,\n          editMainCategory: !state.editMainCategory\n        };\n      }\n\n    case \"EDIT_SUB_CATEGORY_STATE\":\n      {\n        return { ...state,\n          editSubCategory: !state.editSubCategory\n        };\n      }\n\n    case \"REMOVE_CATEGORY_MODAL_TOGGLER\":\n      {\n        if (state.removeModal) return { ...state,\n          removeModal: false,\n          clickingCategoryForDelete: \"\"\n        };else {\n          let clickingCategoryForDelete = state.subCategory;\n          if (action.value === \"main\") clickingCategoryForDelete = state.mainCategory;\n          return { ...state,\n            removeModal: true,\n            clickingCategoryForDelete,\n            deleteMainOrSub: action.value\n          };\n        }\n      }\n\n    case \"REMOVE_MAIN_CATEGORY_STATE\":\n      {\n        return { ...state,\n          removeMain: !state.removeMain\n        };\n      }\n\n    case \"REMOVE_SUB_CATEGORY_STATE\":\n      {\n        return { ...state,\n          removeSub: !state.removeSub\n        };\n      }\n\n    case \"ADD_MAIN_CATEGORY_STATE\":\n      {\n        return { ...state,\n          addMainCategoryModal: !state.addMainCategoryModal\n        };\n      }\n\n    case \"ADD_SUB_CATEGORY_STATE\":\n      {\n        return { ...state,\n          addSubCategoryModal: !state.addSubCategoryModal\n        };\n      }\n\n    case \"ADD_MAIN_CATEGORY\":\n      {\n        const mainCategoryArr = state.mainCategoryArr.concat(action.value);\n        return { ...state,\n          mainCategoryArr\n        };\n      }\n\n    case \"ADD_SUB_CATEGORY\":\n      {\n        const subCategoryArr = state.subCategoryArr.concat(action.value);\n        return { ...state,\n          subCategoryArr\n        };\n      }\n\n    case \"DELETE_CATEGORY_MODAL\":\n      {\n        return { ...state,\n          deleteCategoryModal: !state.deleteCategoryModal,\n          clickingCategoryForDelete: action.value\n        };\n      }\n\n    case \"DELETE_CATEGORY\":\n      {\n        // main category\n        if (action.value === \"main\") {\n          const mainCategoryArr = state.mainCategoryArr.filter(element => element !== state.clickingCategoryForDelete);\n          return { ...state,\n            mainCategoryArr,\n            mainCategory: mainCategoryArr[0],\n            subCategoryArr: state.category === \"expense\" ? expenseObj[mainCategoryArr[0]] : incomeObj[mainCategoryArr[0]],\n            subCategory: state.category === \"expense\" ? expenseObj[mainCategoryArr[0]][0] : incomeObj[mainCategoryArr[0]][0]\n          };\n        } // sub category\n        else if (action.value === \"sub\") {\n          const subCategoryArr = state.subCategoryArr.filter(element => element !== state.clickingCategoryForDelete);\n          return { ...state,\n            subCategoryArr\n          };\n        } else return state;\n      }\n\n    case \"CLOSE_DELETE_MODAL\":\n      {\n        return { ...state,\n          deleteCategoryModal: !state.deleteCategoryModal\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction SettingCategory() {\n  _s();\n\n  const {\n    categoryExpense,\n    categoryIncome,\n    removeMainCategory,\n    removeSubCategory\n  } = useContext(CategoryContext);\n  const [categoryState, categoryStateDispatch] = useReducer(reducer, {\n    category: \"expense\",\n    mainCategory: Object.keys(categoryExpense)[0],\n    mainCategoryArr: Object.keys(categoryExpense),\n    subCategory: categoryExpense[Object.keys(categoryExpense)[0]][0],\n    subCategoryArr: categoryExpense[Object.keys(categoryExpense)[0]],\n    editMainCategory: false,\n    editSubCategory: false,\n    removeModal: false,\n    removeMain: false,\n    removeSub: false,\n    addMainCategoryModal: false,\n    addSubCategoryModal: false,\n    deleteCategoryModal: false,\n    clickingCategoryForDelete: \"\",\n    deleteMainOrSub: \"main\"\n  }); // make these variables connect with object because they are used in reducer function\n\n  expenseObj = categoryExpense;\n  incomeObj = categoryIncome; // expense & income\n\n  function typeChangeHandler(e) {\n    categoryStateDispatch({\n      type: \"TYPE\",\n      value: e.target.value\n    });\n  } // based on main categoey, show the corresponding sub category\n\n\n  function clickMainCategoryHandler(e) {\n    categoryStateDispatch({\n      type: \"CLICK_MAIN_CATEGORY\",\n      value: e.target.textContent\n    });\n  }\n\n  function clickSubCategoryHandler(e) {\n    categoryStateDispatch({\n      type: \"CLICK_SUB_CATEGORY\",\n      value: e.target.textContent\n    });\n  }\n\n  function clickEditBtnHandler(e) {\n    const id = e.target.dataset.id;\n    if (id === \"main\") categoryStateDispatch({\n      type: \"EDIT_MAIN_CATEGORY_STATE\"\n    });else if (id === \"sub\") categoryStateDispatch({\n      type: \"EDIT_SUB_CATEGORY_STATE\"\n    });else return;\n  }\n\n  function removeModalToggler(e) {\n    categoryStateDispatch({\n      type: \"REMOVE_CATEGORY_MODAL_TOGGLER\",\n      value: e === null || e === void 0 ? void 0 : e.target.dataset.id\n    });\n  }\n\n  function clickDeleteBtnHandler(e) {\n    const id = e.target.dataset.id;\n\n    if (id === \"main\") {\n      removeMainCategory(categoryState.clickingCategoryForDelete, categoryState.category);\n    } else if (id === \"sub\") {\n      removeSubCategory(categoryState.clickingCategoryForDelete, categoryState.category, categoryState.mainCategory);\n    }\n\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY\",\n      value: id\n    });\n    return;\n  }\n  /*\n  These two functions do two things respectively\n  1) toggle the adding main or sub categeory modal state\n     (show and close the modal)\n  2) add the category \n     (this will only invoke when there's value which is the name of new category)\n  */\n\n\n  function addMainCategoryAndModal(e, value) {\n    categoryStateDispatch({\n      type: \"ADD_MAIN_CATEGORY_STATE\"\n    });\n    if (value) categoryStateDispatch({\n      type: \"ADD_MAIN_CATEGORY\",\n      value\n    });\n  }\n\n  function addSubCategoryAndModal(e, value) {\n    categoryStateDispatch({\n      type: \"ADD_SUB_CATEGORY_STATE\"\n    });\n    if (value) categoryStateDispatch({\n      type: \"ADD_SUB_CATEGORY\",\n      value\n    });\n  }\n\n  const mainDataContent = categoryState.mainCategoryArr.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.data}  ${element === categoryState.mainCategory ? categoryState.category === \"expense\" ? style[\"data--active--expense\"] : style[\"data--active--income\"] : \"\"} ${categoryState.removeMain && style[\"data--remove\"]}`,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: clickMainCategoryHandler,\n      children: element\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)\n  }, element, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this));\n  const subDataContent = categoryState.subCategoryArr.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.data}  ${element === categoryState.subCategory ? categoryState.category === \"expense\" ? style[\"data--active--expense\"] : style[\"data--active--income\"] : \"\"}  ${categoryState.removeSub && style[\"data--remove\"]} `,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: clickSubCategoryHandler,\n      children: element\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)\n  }, element, false, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this));\n\n  function deleteCategory() {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY\",\n      value: categoryState.clickingCategoryForDelete\n    }); // main category\n\n    if (categoryState.mainCategoryArr.includes(categoryState.clickingCategoryForDelete)) removeMainCategory(categoryState.clickingCategoryForDelete, categoryState.category); // sub category\n    else removeSubCategory(categoryState.clickingCategoryForDelete, categoryState.category, categoryState.mainCategory);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [categoryState.addMainCategoryModal && /*#__PURE__*/_jsxDEV(AddMainCategoryModal, {\n      category: categoryState.category,\n      addMainCategoryAndModal: addMainCategoryAndModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }, this), categoryState.addSubCategoryModal && /*#__PURE__*/_jsxDEV(AddingSubCategoryModal, {\n      category: categoryState.category,\n      mainCategory: categoryState.mainCategory,\n      addSubCategoryAndModal: addSubCategoryAndModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }, this), categoryState.removeModal && /*#__PURE__*/_jsxDEV(DeleteCategoryModal, {\n      deleteMainOrSub: categoryState.deleteMainOrSub,\n      clickingCategoryForDelete: categoryState.clickingCategoryForDelete,\n      removeModalToggler: removeModalToggler,\n      clickDeleteBtnHandler: clickDeleteBtnHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"form__list\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.category,\n          children: [/*#__PURE__*/_jsxDEV(InputRadio, {\n            classContainer: style[\"radio__container\"],\n            classInput: style.input,\n            classLabel: `${style.labelBlue} ${style.label}`,\n            classCheck: style.check,\n            id: \"expense\",\n            name: \"category\",\n            value: \"expense\",\n            label: \"expense\",\n            checked: categoryState.category === \"expense\",\n            onChange: typeChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputRadio, {\n            classContainer: style[\"radio__container\"],\n            classInput: style.input,\n            classLabel: `${style.labelPink} ${style.label}`,\n            classCheck: style.check,\n            id: \"income\",\n            name: \"category\",\n            value: \"income\",\n            label: \"income\",\n            checked: categoryState.category === \"income\",\n            onChange: typeChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"subtitle__container\"],\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: style.subtitle,\n              children: \"main category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BtnIcon, {\n              onClick: clickEditBtnHandler,\n              dataID: \"main\",\n              children: /*#__PURE__*/_jsxDEV(AiFillEdit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"data__container\"],\n            children: mainDataContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), categoryState.editMainCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"btn__container\"],\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: removeModalToggler,\n              type: \"button\",\n              className: style.btn,\n              dataID: \"main\",\n              children: \"remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addMainCategoryAndModal,\n              type: \"button\",\n              className: style.btn,\n              dataID: \"main\",\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"subtitle__container\"],\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: style.subtitle,\n              children: \"sub category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BtnIcon, {\n              onClick: clickEditBtnHandler,\n              dataID: \"sub\",\n              children: /*#__PURE__*/_jsxDEV(AiFillEdit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"data__container\"],\n            children: subDataContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), categoryState.editSubCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style[\"btn__container\"],\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: removeModalToggler,\n              type: \"button\",\n              className: style.btn,\n              dataID: \"sub\",\n              children: \"remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addSubCategoryAndModal,\n              type: \"button\",\n              className: style.btn,\n              dataID: \"sub\",\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SettingCategory, \"qtnDBBteLrrdqIkgC0veR0M2ltk=\");\n\n_c = SettingCategory;\nexport default SettingCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingCategory\");","map":{"version":3,"sources":["/Users/eyo/Desktop/expense-tracker/src/components/MainContent/Setting/SettingContent/SettingCategory/SettingCategory.js"],"names":["useContext","useReducer","Fragment","useEffect","CategoryContext","InputRadio","Button","AddMainCategoryModal","AddingSubCategoryModal","DeleteCategoryModal","BtnIcon","AiFillEdit","style","expenseObj","incomeObj","reducer","state","action","type","mainCategoryArr","subCategoryArr","mainCategory","subCategory","value","expenseKeyArr","Object","keys","incomeKeyArr","category","editMainCategory","editSubCategory","removeModal","clickingCategoryForDelete","deleteMainOrSub","removeMain","removeSub","addMainCategoryModal","addSubCategoryModal","concat","deleteCategoryModal","filter","element","SettingCategory","categoryExpense","categoryIncome","removeMainCategory","removeSubCategory","categoryState","categoryStateDispatch","typeChangeHandler","e","target","clickMainCategoryHandler","textContent","clickSubCategoryHandler","clickEditBtnHandler","id","dataset","removeModalToggler","clickDeleteBtnHandler","addMainCategoryAndModal","addSubCategoryAndModal","mainDataContent","map","data","subDataContent","deleteCategory","includes","form","input","labelBlue","label","check","labelPink","container","subtitle","btn"],"mappings":"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","sourcesContent":["import { useContext, useReducer, Fragment, useEffect } from \"react\";\nimport CategoryContext from \"../../../../../store/category/category--context\";\nimport InputRadio from \"../../../../UI/InputRadio/InputRadio\";\nimport Button from \"../../../../UI/Button/Button\";\nimport AddMainCategoryModal from \"../../../../UI/AddMainCategoryModal/AddMainCategoryModal\";\nimport AddingSubCategoryModal from \"../../../../UI/AddingSubCategoryModal/AddingSubCategoryModal\";\nimport DeleteCategoryModal from \"../../../../UI/DeleteCategoryModal/DeleteCategoryModal\";\nimport BtnIcon from \"../../../../UI/BtnIcon/BtnIcon\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport style from \"./SettingCategory.module.css\";\n\nlet expenseObj, incomeObj;\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"TYPE\": {\n      // update these four values when chaning type\n      let mainCategoryArr, subCategoryArr, mainCategory, subCategory;\n\n      if (action.value === \"expense\") {\n        const expenseKeyArr = Object.keys(expenseObj);\n\n        mainCategoryArr = expenseKeyArr;\n        subCategoryArr = expenseObj[expenseKeyArr[0]];\n        mainCategory = expenseKeyArr[0];\n        subCategory = expenseObj[mainCategory][0];\n      } else {\n        const incomeKeyArr = Object.keys(incomeObj);\n\n        mainCategoryArr = incomeKeyArr;\n        subCategoryArr = incomeObj[incomeKeyArr[0]];\n        mainCategory = incomeKeyArr[0];\n        subCategory = incomeObj[mainCategory][0];\n      }\n\n      return {\n        ...state,\n        category: action.value,\n        mainCategoryArr,\n        subCategoryArr,\n        mainCategory,\n        subCategory,\n        // whenever use change the category, the editing state should be canceled\n        editMainCategory: false,\n        editSubCategory: false,\n      };\n    }\n\n    case \"CLICK_MAIN_CATEGORY\": {\n      let subCategoryArr, subCategory;\n\n      if (state.category === \"expense\") {\n        subCategoryArr = expenseObj[action.value];\n        subCategory = expenseObj[action.value][0];\n      } else {\n        subCategoryArr = incomeObj[action.value];\n        subCategory = incomeObj[action.value][0];\n      }\n\n      return {\n        ...state,\n        subCategoryArr,\n        subCategory,\n        mainCategory: action.value,\n      };\n    }\n\n    case \"CLICK_SUB_CATEGORY\": {\n      return { ...state, subCategory: action.value };\n    }\n\n    case \"EDIT_MAIN_CATEGORY_STATE\": {\n      return { ...state, editMainCategory: !state.editMainCategory };\n    }\n\n    case \"EDIT_SUB_CATEGORY_STATE\": {\n      return { ...state, editSubCategory: !state.editSubCategory };\n    }\n\n    case \"REMOVE_CATEGORY_MODAL_TOGGLER\": {\n      if (state.removeModal)\n        return { ...state, removeModal: false, clickingCategoryForDelete: \"\" };\n      else {\n        let clickingCategoryForDelete = state.subCategory;\n        if (action.value === \"main\")\n          clickingCategoryForDelete = state.mainCategory;\n\n        return {\n          ...state,\n          removeModal: true,\n          clickingCategoryForDelete,\n          deleteMainOrSub: action.value,\n        };\n      }\n    }\n\n    case \"REMOVE_MAIN_CATEGORY_STATE\": {\n      return { ...state, removeMain: !state.removeMain };\n    }\n\n    case \"REMOVE_SUB_CATEGORY_STATE\": {\n      return { ...state, removeSub: !state.removeSub };\n    }\n\n    case \"ADD_MAIN_CATEGORY_STATE\": {\n      return { ...state, addMainCategoryModal: !state.addMainCategoryModal };\n    }\n\n    case \"ADD_SUB_CATEGORY_STATE\": {\n      return { ...state, addSubCategoryModal: !state.addSubCategoryModal };\n    }\n\n    case \"ADD_MAIN_CATEGORY\": {\n      const mainCategoryArr = state.mainCategoryArr.concat(action.value);\n\n      return { ...state, mainCategoryArr };\n    }\n\n    case \"ADD_SUB_CATEGORY\": {\n      const subCategoryArr = state.subCategoryArr.concat(action.value);\n\n      return { ...state, subCategoryArr };\n    }\n\n    case \"DELETE_CATEGORY_MODAL\": {\n      return {\n        ...state,\n        deleteCategoryModal: !state.deleteCategoryModal,\n        clickingCategoryForDelete: action.value,\n      };\n    }\n\n    case \"DELETE_CATEGORY\": {\n      // main category\n      if (action.value === \"main\") {\n        const mainCategoryArr = state.mainCategoryArr.filter(\n          (element) => element !== state.clickingCategoryForDelete\n        );\n\n        return {\n          ...state,\n          mainCategoryArr,\n          mainCategory: mainCategoryArr[0],\n          subCategoryArr:\n            state.category === \"expense\"\n              ? expenseObj[mainCategoryArr[0]]\n              : incomeObj[mainCategoryArr[0]],\n          subCategory:\n            state.category === \"expense\"\n              ? expenseObj[mainCategoryArr[0]][0]\n              : incomeObj[mainCategoryArr[0]][0],\n        };\n      }\n      // sub category\n      else if (action.value === \"sub\") {\n        const subCategoryArr = state.subCategoryArr.filter(\n          (element) => element !== state.clickingCategoryForDelete\n        );\n\n        return {\n          ...state,\n          subCategoryArr,\n        };\n      } else return state;\n    }\n\n    case \"CLOSE_DELETE_MODAL\": {\n      return { ...state, deleteCategoryModal: !state.deleteCategoryModal };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction SettingCategory() {\n  const {\n    categoryExpense,\n    categoryIncome,\n    removeMainCategory,\n    removeSubCategory,\n  } = useContext(CategoryContext);\n  const [categoryState, categoryStateDispatch] = useReducer(reducer, {\n    category: \"expense\",\n    mainCategory: Object.keys(categoryExpense)[0],\n    mainCategoryArr: Object.keys(categoryExpense),\n    subCategory: categoryExpense[Object.keys(categoryExpense)[0]][0],\n    subCategoryArr: categoryExpense[Object.keys(categoryExpense)[0]],\n    editMainCategory: false,\n    editSubCategory: false,\n    removeModal: false,\n    removeMain: false,\n    removeSub: false,\n    addMainCategoryModal: false,\n    addSubCategoryModal: false,\n    deleteCategoryModal: false,\n    clickingCategoryForDelete: \"\",\n    deleteMainOrSub: \"main\",\n  });\n  // make these variables connect with object because they are used in reducer function\n  expenseObj = categoryExpense;\n  incomeObj = categoryIncome;\n\n  // expense & income\n  function typeChangeHandler(e) {\n    categoryStateDispatch({ type: \"TYPE\", value: e.target.value });\n  }\n\n  // based on main categoey, show the corresponding sub category\n  function clickMainCategoryHandler(e) {\n    categoryStateDispatch({\n      type: \"CLICK_MAIN_CATEGORY\",\n      value: e.target.textContent,\n    });\n  }\n\n  function clickSubCategoryHandler(e) {\n    categoryStateDispatch({\n      type: \"CLICK_SUB_CATEGORY\",\n      value: e.target.textContent,\n    });\n  }\n\n  function clickEditBtnHandler(e) {\n    const id = e.target.dataset.id;\n    if (id === \"main\")\n      categoryStateDispatch({ type: \"EDIT_MAIN_CATEGORY_STATE\" });\n    else if (id === \"sub\")\n      categoryStateDispatch({ type: \"EDIT_SUB_CATEGORY_STATE\" });\n    else return;\n  }\n\n  function removeModalToggler(e) {\n    categoryStateDispatch({\n      type: \"REMOVE_CATEGORY_MODAL_TOGGLER\",\n      value: e?.target.dataset.id,\n    });\n  }\n\n  function clickDeleteBtnHandler(e) {\n    const id = e.target.dataset.id;\n\n    if (id === \"main\") {\n      removeMainCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category\n      );\n    } else if (id === \"sub\") {\n      removeSubCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category,\n        categoryState.mainCategory\n      );\n    }\n\n    categoryStateDispatch({ type: \"DELETE_CATEGORY\", value: id });\n\n    return;\n  }\n\n  /*\n  These two functions do two things respectively\n  1) toggle the adding main or sub categeory modal state\n     (show and close the modal)\n  2) add the category \n     (this will only invoke when there's value which is the name of new category)\n  */\n  function addMainCategoryAndModal(e, value) {\n    categoryStateDispatch({ type: \"ADD_MAIN_CATEGORY_STATE\" });\n\n    if (value) categoryStateDispatch({ type: \"ADD_MAIN_CATEGORY\", value });\n  }\n\n  function addSubCategoryAndModal(e, value) {\n    categoryStateDispatch({ type: \"ADD_SUB_CATEGORY_STATE\" });\n\n    if (value) categoryStateDispatch({ type: \"ADD_SUB_CATEGORY\", value });\n  }\n\n  const mainDataContent = categoryState.mainCategoryArr.map((element) => (\n    <div\n      className={`${style.data}  ${\n        element === categoryState.mainCategory\n          ? categoryState.category === \"expense\"\n            ? style[\"data--active--expense\"]\n            : style[\"data--active--income\"]\n          : \"\"\n      } ${categoryState.removeMain && style[\"data--remove\"]}`}\n      key={element}\n    >\n      <span onClick={clickMainCategoryHandler}>{element}</span>\n    </div>\n  ));\n\n  const subDataContent = categoryState.subCategoryArr.map((element) => (\n    <div\n      className={`${style.data}  ${\n        element === categoryState.subCategory\n          ? categoryState.category === \"expense\"\n            ? style[\"data--active--expense\"]\n            : style[\"data--active--income\"]\n          : \"\"\n      }  ${categoryState.removeSub && style[\"data--remove\"]} `}\n      key={element}\n    >\n      <span onClick={clickSubCategoryHandler}>{element}</span>\n    </div>\n  ));\n\n  function deleteCategory() {\n    categoryStateDispatch({\n      type: \"DELETE_CATEGORY\",\n      value: categoryState.clickingCategoryForDelete,\n    });\n\n    // main category\n    if (\n      categoryState.mainCategoryArr.includes(\n        categoryState.clickingCategoryForDelete\n      )\n    )\n      removeMainCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category\n      );\n    // sub category\n    else\n      removeSubCategory(\n        categoryState.clickingCategoryForDelete,\n        categoryState.category,\n        categoryState.mainCategory\n      );\n  }\n\n  return (\n    <Fragment>\n      {categoryState.addMainCategoryModal && (\n        <AddMainCategoryModal\n          category={categoryState.category}\n          addMainCategoryAndModal={addMainCategoryAndModal}\n        />\n      )}\n      {categoryState.addSubCategoryModal && (\n        <AddingSubCategoryModal\n          category={categoryState.category}\n          mainCategory={categoryState.mainCategory}\n          addSubCategoryAndModal={addSubCategoryAndModal}\n        />\n      )}\n      {categoryState.removeModal && (\n        <DeleteCategoryModal\n          deleteMainOrSub={categoryState.deleteMainOrSub}\n          clickingCategoryForDelete={categoryState.clickingCategoryForDelete}\n          removeModalToggler={removeModalToggler}\n          clickDeleteBtnHandler={clickDeleteBtnHandler}\n        />\n      )}\n      <form className={style.form}>\n        <div className={style[\"form__list\"]}>\n          <div className={style.category}>\n            <InputRadio\n              classContainer={style[\"radio__container\"]}\n              classInput={style.input}\n              classLabel={`${style.labelBlue} ${style.label}`}\n              classCheck={style.check}\n              id=\"expense\"\n              name=\"category\"\n              value=\"expense\"\n              label=\"expense\"\n              checked={categoryState.category === \"expense\"}\n              onChange={typeChangeHandler}\n            />\n            <InputRadio\n              classContainer={style[\"radio__container\"]}\n              classInput={style.input}\n              classLabel={`${style.labelPink} ${style.label}`}\n              classCheck={style.check}\n              id=\"income\"\n              name=\"category\"\n              value=\"income\"\n              label=\"income\"\n              checked={categoryState.category === \"income\"}\n              onChange={typeChangeHandler}\n            />\n          </div>\n          <div className={style.container}>\n            <div className={style[\"subtitle__container\"]}>\n              <p className={style.subtitle}>main category</p>\n              <BtnIcon onClick={clickEditBtnHandler} dataID=\"main\">\n                <AiFillEdit />\n              </BtnIcon>\n            </div>\n            <div className={style[\"data__container\"]}>{mainDataContent}</div>\n            {categoryState.editMainCategory && (\n              <div className={style[\"btn__container\"]}>\n                <Button\n                  onClick={removeModalToggler}\n                  type=\"button\"\n                  className={style.btn}\n                  dataID=\"main\"\n                >\n                  remove\n                </Button>\n                <Button\n                  onClick={addMainCategoryAndModal}\n                  type=\"button\"\n                  className={style.btn}\n                  dataID=\"main\"\n                >\n                  add\n                </Button>\n              </div>\n            )}\n          </div>\n          <div className={style.container}>\n            <div className={style[\"subtitle__container\"]}>\n              <p className={style.subtitle}>sub category</p>\n              <BtnIcon onClick={clickEditBtnHandler} dataID=\"sub\">\n                <AiFillEdit />\n              </BtnIcon>\n            </div>\n            <div className={style[\"data__container\"]}>{subDataContent}</div>\n            {categoryState.editSubCategory && (\n              <div className={style[\"btn__container\"]}>\n                <Button\n                  onClick={removeModalToggler}\n                  type=\"button\"\n                  className={style.btn}\n                  dataID=\"sub\"\n                >\n                  remove\n                </Button>\n                <Button\n                  onClick={addSubCategoryAndModal}\n                  type=\"button\"\n                  className={style.btn}\n                  dataID=\"sub\"\n                >\n                  add\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </form>\n    </Fragment>\n  );\n}\n\nexport default SettingCategory;\n"]},"metadata":{},"sourceType":"module"}